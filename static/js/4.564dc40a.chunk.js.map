{"version":3,"sources":["components/Profile/style.module.css","components/ButtonWithPopup/style.module.css","components/Sidebar/style.module.css","components/Main/style.module.css","components/Empty/style.module.css","components/Header/style.module.css","components/ButtonWithChatDetails/style.module.css","components/AttachmentLink/style.module.css","components/FormattedMessage/style.module.css","components/ForwardingBlock/style.module.css","components/MessageMenu/style.module.css","components/Chat/style.module.css","components/ButtonWithEmoji/style.module.css","components/ButtonWithFileUpload/style.module.css","components/OriginalMessageBlock/style.module.css","components/MessageInput/style.module.css","components/ChatWindow/style.module.css","components/ButtonWithPopup/index.tsx","components/Sidebar/index.tsx","components/Empty/index.tsx","components/ButtonWithChatDetails/index.tsx","components/Header/index.tsx","components/AttachmentLink/index.tsx","components/FormattedMessage/index.tsx","components/ForwardingBlock/index.tsx","components/MessageMenu/index.tsx","components/Chat/index.tsx","components/ButtonWithEmoji/index.tsx","components/ButtonWithFileUpload/index.tsx","components/OriginalMessageBlock/index.tsx","components/MessageInput/index.tsx","components/ChatWindow/index.tsx","components/Main/index.tsx","components/Profile/index.tsx","img/user_avatar.png","components/NewMessageCounter/index.tsx","components/User/index.tsx","components/NewMessageCounter/style.module.css","components/User/style.module.css","img/chat_avatar.png"],"names":["module","exports","connect","state","nick","user","userData","login","avatar","url","userAvatar","dispatch","bindActionCreators","logout","authActions","React","memo","props","useState","isOpenedPopup","setIsOpenedPopup","myRef","useRef","closePopup","useCallback","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","className","style","buttonWithPopup","onClick","navOpener","icon","ref","popup","popupHeader","src","navSidebar","navList","navItem","to","activeUserId","_id","contacts","contactsData","chats","activeChatId","chat","chatSuccessData","activeChat","newMessage","message","messageData","getContacts","contactsActions","request","getUser","userActions","getActiveChat","chatActions","addChat","sidebarView","setSidebarView","localStorage","getItem","getDetailsOfChat","details","members","length","name","title","chatAvatar","member","find","nameFromMember","memberAvatar","checkMemberInChats","contactId","contactsChats","map","forEach","push","sidebar","buttonBlock","navButton","User","key","chatId","avatarSrc","contact","empty","emptyName","alt","emptyInfo","ButtonWithChatDetails","isOpenedChatDetails","createRef","closeChatDetails","setState","toggleChatDetails","getAvatarOfChat","prevProps","prevState","this","buttonWithChatDetails","chatDetails","chatDetailsHeader","activeChatName","PureComponent","header","headerName","href","attachmentLink","size","fileIcon","text","videoArray","match","videoId","width","frameBorder","allow","allowFullScreen","encrypted-media","picture-in-picture","media","mediaAttachment","attachment","type","originalFileName","controls","includes","urls","getUrls","parsedUrls","Array","from","idx","parseURLs","originalMessage","savedMessage","isForward","forwardMessage","messageActions","saveOriginalMessage","closeForwardBlock","deleteOriginalMessage","isReply","groupTitleFromMember","forwardingContainer","containerHeader","containerTitle","originalMessageId","isVisibleMenu","setIsVisibleMenu","classnames","messageMenu","invisible","menuList","menuItem","messages","mediaUrl","fileData","chatsRef","scrollToBottom","scrollTop","scrollHeight","isUserMsg","owner","replyTo","replyBlock","forwarded","forwardedBlock","timeBlock","moment","createdAt","format","ButtonWithEmoji","closeEmoji","isOpenedEmoji","toggleEmoji","emojiObj","buttonWithEmoji","button","emojiBlock","set","onSelect","emoji","addEmoji","ButtonWithFileUpload","isOpenedFileUpload","fileMessage","myFormRef","fileAttachmentRef","closeFileUpload","toggleFileUpload","uploadFile","form","sendAttachment","e","sendMessage","mediaId","fileId","buttonWithFileUpload","paperclipButton","dialogContainer","dialogHeader","dialogForm","method","action","encType","id","onSubmit","onChange","dialogLabel","htmlFor","dialogInput","autoFocus","value","placeholder","submitBtn","mediaActions","originalMessageBlock","replyToMessage","setText","messageBlock","native","preventDefault","trim","messageForm","messageInput","chatWindow","main","onMessage","socket","io","emit","authToken","on","data","console","log","error","profile","counter","setCounter","chatIdWithNewMessage","userImg","userDetails","useDetailsName"],"mappings":"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","file":"static/js/4.564dc40a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"style_profile__2a_cU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonWithPopup\":\"style_buttonWithPopup__1lQAQ\",\"navOpener\":\"style_navOpener__3Hw_I\",\"popup\":\"style_popup__u9k-3\",\"popupHeader\":\"style_popupHeader__2ZHlh\",\"navSidebar\":\"style_navSidebar__3o8Bs\",\"navList\":\"style_navList__1QP6Z\",\"navItem\":\"style_navItem__1zHpi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"style_sidebar__3J9v9\",\"buttonBlock\":\"style_buttonBlock__3eLO2\",\"navButton\":\"style_navButton__2lPuw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__F82O7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"empty\":\"style_empty__1X47t\",\"emptyName\":\"style_emptyName__2XU3c\",\"emptyInfo\":\"style_emptyInfo__R38MY\",\"avatar\":\"style_avatar__UQFNR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__MlSQ_\",\"headerName\":\"style_headerName__qUa0b\",\"settingsButton\":\"style_settingsButton__29FvD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonWithChatDetails\":\"style_buttonWithChatDetails__3XgXd\",\"navOpener\":\"style_navOpener__15gIU\",\"chatDetails\":\"style_chatDetails__2vnMD\",\"chatDetailsHeader\":\"style_chatDetailsHeader__16vpH\",\"navSidebar\":\"style_navSidebar__fvfWt\",\"navList\":\"style_navList__1aX_5\",\"navItem\":\"style_navItem__3Qxgo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"attachmentLink\":\"style_attachmentLink__DNDkC\",\"fileIcon\":\"style_fileIcon__1WFEO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mediaAttachment\":\"style_mediaAttachment__3QnPn\",\"attachment\":\"style_attachment__1OkB3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forwardingContainer\":\"style_forwardingContainer__5s0m0\",\"containerHeader\":\"style_containerHeader__1xJtM\",\"containerTitle\":\"style_containerTitle__3_Ko8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageMenu\":\"style_messageMenu__pJRDf\",\"invisible\":\"style_invisible__1LjwZ\",\"menuList\":\"style_menuList__AcjpA\",\"menuItem\":\"style_menuItem__8d5iJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chats\":\"style_chats__jiJor\",\"chat\":\"style_chat__15hmj\",\"isUserMsg\":\"style_isUserMsg__23Qao\",\"replyBlock\":\"style_replyBlock__17Q2S\",\"owner\":\"style_owner__bGB4C\",\"timeBlock\":\"style_timeBlock__3B-5_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonWithEmoji\":\"style_buttonWithEmoji__1MOip\",\"emojiBlock\":\"style_emojiBlock__3BsgC\",\"button\":\"style_button__3YROV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paperclipButton\":\"style_paperclipButton__HjiF1\",\"uploadButton\":\"style_uploadButton__2q1Mt\",\"dialogContainer\":\"style_dialogContainer__HF7Tf\",\"dialogHeader\":\"style_dialogHeader__OE5dX\",\"dialogForm\":\"style_dialogForm__3EKHg\",\"dialogLabel\":\"style_dialogLabel__3UVsc\",\"dialogInput\":\"style_dialogInput__bH3wN\",\"submitBtn\":\"style_submitBtn__3REnT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"originalMessageBlock\":\"style_originalMessageBlock__2t3vV\",\"originalMessage\":\"style_originalMessage__200am\",\"owner\":\"style_owner__29svV\",\"deleteOriginalMessage\":\"style_deleteOriginalMessage__3eBEB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageBlock\":\"style_messageBlock__3YrA3\",\"messageForm\":\"style_messageForm__3Mcuz\",\"messageInput\":\"style_messageInput__2lCn9\",\"button\":\"style_button__3Jpgk\",\"ButtonWithEmoji\":\"style_ButtonWithEmoji__2Pk_-\",\"buttonBlock\":\"style_buttonBlock__g4UAK\",\"uploadBtnWrapper\":\"style_uploadBtnWrapper__bhQkQ\",\"uploadInput\":\"style_uploadInput__2F-YU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatWindow\":\"style_chatWindow__14ABs\"};","import React from \"react\";\r\nimport { bindActionCreators, Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\r\nimport * as authActions from \"../../store/auth/actions\";\r\n\r\nimport style from './style.module.css'\r\nimport userAvatar from '../../img/user_avatar.png'\r\n\r\nconst mapStateToProps = (state: IRootState) =>\r\n ({\r\n  nick: state.user.userData.nick,\r\n  login: state.user.userData.login,\r\n  avatar: state.user.userData.avatar ? `http://chat.fs.a-level.com.ua/${state.user.userData.avatar.url}` : userAvatar,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\r\n  bindActionCreators(\r\n    {\r\n      logout: authActions.logout,\r\n    },\r\n    dispatch\r\n  );\r\n\r\ntype ButtonWithPopupProps = ReturnType<typeof mapStateToProps> &\r\n  ReturnType<typeof mapDispatchToProps>\r\n\r\n// interface State {\r\n//   isOpenedPopup: boolean\r\n// }\r\n\r\n// class ButtonWithPopup extends React.PureComponent<ButtonWithPopupProps> {\r\n\r\n//   state = {\r\n//     isOpenedPopup: false,\r\n//   };\r\n\r\n//   myRef = React.createRef<HTMLDivElement>()\r\n\r\n//   closePopup = (event: any) => {\r\n//     if (this.myRef.current && !(this.myRef.current.contains(event.target))) {\r\n//       this.setState({\r\n//         isOpenedPopup: false\r\n//       })\r\n//     }\r\n//   };\r\n\r\n//   componentDidUpdate(prevProps: {}, prevState: State) {\r\n//     if (prevState.isOpenedPopup === this.state.isOpenedPopup) {\r\n//       return;\r\n//     }\r\n//     if (this.state.isOpenedPopup) {\r\n//       document.addEventListener(\"click\", this.closePopup);\r\n//     } else {\r\n//       document.removeEventListener(\"click\", this.closePopup);\r\n//     }\r\n//   }\r\n\r\n//   togglePopup = () => {\r\n//     this.setState({\r\n//       isOpenedPopup: !this.state.isOpenedPopup\r\n//     })\r\n//   }\r\n\r\n//   logoutHandler = () => {\r\n//     this.props.logout()\r\n//   }\r\n\r\n//   render() {\r\n//     const { isOpenedPopup } = this.state;\r\n//     return (\r\n//       <div className={style.buttonWithPopup}>\r\n//         <button onClick={this.togglePopup} className={style.navOpener}>\r\n//           <FontAwesomeIcon icon=\"bars\" />\r\n//         </button>\r\n//         {isOpenedPopup &&\r\n//           <div ref={this.myRef} className={style.popup}>\r\n//             <div className={style.popupHeader}>\r\n//               <img src={this.props.avatar} />\r\n//               <p>{ this.props.nick || this.props.login}</p>\r\n//             </div>\r\n//             <nav className={style.navSidebar}>\r\n//               <ul className={style.navList}>\r\n//                 <li\r\n//                   className={style.navItem}\r\n//                 >\r\n//                   <Link to=\"/new-group\">\r\n//                     <FontAwesomeIcon icon=\"comments\" />\r\n//                     New group\r\n//                   </Link>\r\n//                 </li>\r\n//                 <li\r\n//                   className={style.navItem}\r\n//                 >\r\n//                   <Link to=\"/user-settings\">\r\n//                     <FontAwesomeIcon icon=\"cogs\" />\r\n//                     Settings\r\n//                   </Link>\r\n//                 </li>\r\n//                 <li \r\n//                   className={style.navItem}\r\n//                   onClick={() => this.logoutHandler()}\r\n//                 >\r\n//                   <FontAwesomeIcon icon=\"sign-out-alt\" />\r\n//                   Exit\r\n//                 </li>\r\n//               </ul>\r\n//             </nav>\r\n//           </div>\r\n//         }\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n// export default connect(mapStateToProps, mapDispatchToProps)(ButtonWithPopup);\r\n\r\n\r\n\r\nconst ButtonWithPopup: React.FC<ButtonWithPopupProps> = props => {  \r\n\r\n  const [isOpenedPopup, setIsOpenedPopup] = React.useState(false);\r\n\r\n  const myRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  // const closePopup = (event: any) => {\r\n    // if (myRef.current && !(myRef.current.contains(event.target))) {\r\n    //   setIsOpenedPopup(false)\r\n    // }\r\n  // }\r\n\r\n  const closePopup = React.useCallback(\r\n    (event: any) => {\r\n      if (myRef.current && !myRef.current.contains(event.target)) {\r\n        setIsOpenedPopup(false);\r\n      }\r\n    },\r\n    [setIsOpenedPopup]\r\n  )\r\n\r\n  React.useEffect(() => {\r\n    if (isOpenedPopup) {\r\n      document.addEventListener(\"click\", closePopup);\r\n    } else {\r\n      document.removeEventListener(\"click\", closePopup);\r\n    }\r\n  }, [isOpenedPopup, closePopup])\r\n\r\n  const togglePopup = () => {\r\n    setIsOpenedPopup(!isOpenedPopup)\r\n  }\r\n\r\n  const logoutHandler = () => {\r\n    props.logout()\r\n  }\r\n\r\n  return (\r\n    <div className={style.buttonWithPopup}>\r\n      <button onClick={togglePopup} className={style.navOpener}>\r\n        <FontAwesomeIcon icon=\"bars\" />\r\n      </button>\r\n      {isOpenedPopup &&\r\n        <div ref={myRef} className={style.popup}>\r\n          <div className={style.popupHeader}>\r\n            <img src={props.avatar} />\r\n            <p>{ props.nick || props.login}</p>\r\n          </div>\r\n          <nav className={style.navSidebar}>\r\n            <ul className={style.navList}>\r\n              <li\r\n                className={style.navItem}\r\n              >\r\n                <Link to=\"/new-group\">\r\n                  <FontAwesomeIcon icon=\"comments\" />\r\n                  New group\r\n                </Link>\r\n              </li>\r\n              <li\r\n                className={style.navItem}\r\n              >\r\n                <Link to=\"/user-settings\">\r\n                  <FontAwesomeIcon icon=\"cogs\" />\r\n                  Settings\r\n                </Link>\r\n              </li>\r\n              <li \r\n                className={style.navItem}\r\n                onClick={() => logoutHandler()}\r\n              >\r\n                <FontAwesomeIcon icon=\"sign-out-alt\" />\r\n                Exit\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(ButtonWithPopup));","import React, { useRef, useState } from 'react';\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as userActions from \"../../store/user/actions\";\nimport * as contactsActions from \"../../store/contacts/actions\";\nimport * as chatActions from \"../../store/chat/actions\";\nimport { UserData } from '../../store/user/types'\nimport { ChatData } from '../../store/chat/types'\n\nimport User from \"../User\";\nimport userAvatar from '../../img/user_avatar.png'\nimport chatAvatar from '../../img/chat_avatar.png'\nimport ButtonWithPopup from '../ButtonWithPopup';\nimport style from './style.module.css'\n\nconst mapStateToProps = (state: IRootState) => ({\n\tactiveUserId: state.user.userData._id,\n\tcontacts: state.contacts.contactsData,\n\tchats: state.user.userData.chats,\n\tactiveChatId: state.chat.chatSuccessData.activeChat._id,\n\tnewMessage: state.message.messageData\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n\tbindActionCreators(\n\t\t{\n\t\t\tgetContacts: contactsActions.getContacts.request,\n\t\t\tgetUser: userActions.getUser.request,\n\t\t\tgetActiveChat: chatActions.getActiveChat.request,\n\t\t\taddChat: chatActions.addChat.request\n\t\t},\n\t\tdispatch\n\t);\n\ntype SidebarProps = ReturnType<typeof mapStateToProps> &\n\tReturnType<typeof mapDispatchToProps>;\n\ntype SidebarView = \"contacts\" | \"chats\"\n\nconst Sidebar: React.FC<SidebarProps> = props => {\n\n\tconst [sidebarView, setSidebarView] = React.useState<SidebarView>(\"chats\")\n\n\tReact.useEffect(() => {\n\t\tconst authToken = localStorage.getItem('authToken')\n\t\tif (!authToken) {\n\t\t\treturn\n\t\t}\n\t\tprops.getUser()\n\t\t// console.log(\"props.chats,props.chats.length\", props.chats, props.chats.length)\n\t\t// if (props.chats && props.chats.length) {\n\t\t// \tsetSidebarView(\"contacts\")\n\t\t// }\n\t\tprops.getContacts()\n\t}, [])\n\n\tconst getDetailsOfChat = (chat: ChatData) => {\n\t\tlet details\n\t\tif (chat.members.length === 1) {\n\t\t\tdetails = {\n\t\t\t\tname: chat.title || \"You\",\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : userAvatar\n\t\t\t}\n\t\t} else if (chat.members.length > 2) {\n\t\t\tdetails = {\n\t\t\t\tname: chat.title || \"Group\",\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : chatAvatar\n\t\t\t}\n\t\t} else {\n\t\t\tlet member = chat.members.find(member => {\n\t\t\t\treturn member._id !== props.activeUserId\n\t\t\t})\n\t\t\tlet nameFromMember = member && (member.nick || member.login)\n\t\t\tlet memberAvatar = member && member.avatar && `http://chat.fs.a-level.com.ua/${member.avatar.url}`\n\t\t\tdetails = {\n\t\t\t\tname: chat.title || nameFromMember,\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : (memberAvatar || userAvatar)\n\t\t\t}\n\t\t}\n\t\treturn details\n\t}\n\n\tconst checkMemberInChats = (contactId: string) => {\n\t\tlet contactsChats: string[] = []\n\t\tprops.chats.map(chat => {\n\t\t\tif (chat.members.length === 2) {\n\t\t\t\tchat.members.forEach(member => {\n\t\t\t\t\tif (member._id === contactId) {\n\t\t\t\t\t\tcontactsChats.push(chat._id)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\treturn contactsChats\n\t}\n\n\tconst activeChatHandler = (chatId: string) => {\n\t\tprops.getActiveChat(chatId)\n\t};\n\n\tconst addChatHandler = (contactId: string) => {\n\t\tif (checkMemberInChats(contactId).length) {\n\t\t\tprops.getActiveChat(checkMemberInChats(contactId)[0])\n\t\t} else {\n\t\t\tprops.addChat(contactId)\n\t\t}\n\t};\n\n\tconst renderSidebarContent = () => {\n\t\t\tif (sidebarView === \"chats\") {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{ props.chats.map(chat => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<User\n\t\t\t\t\t\t\t\tkey={chat._id}\n\t\t\t\t\t\t\t\tchatId={chat._id}\n\t\t\t\t\t\t\t\tname={getDetailsOfChat(chat).name}\n\t\t\t\t\t\t\t\tavatarSrc={getDetailsOfChat(chat).avatar}\n\t\t\t\t\t\t\t\tnewMessage={props.newMessage}\n\t\t\t\t\t\t\t\tactiveChatId={props.activeChatId}\n\t\t\t\t\t\t\t\tonClick={() => activeChatHandler(chat._id)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{ props.contacts.map((contact: UserData) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<User \n\t\t\t\t\t\t\t\tkey={contact._id}\n\t\t\t\t\t\t\t\tname={contact.nick || contact.login}\n\t\t\t\t\t\t\t\tavatarSrc={contact.avatar ? `http://chat.fs.a-level.com.ua/${contact.avatar.url}` : userAvatar }\n\t\t\t\t\t\t\t\tonClick={() => addChatHandler(contact._id)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</>\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<aside className={style.sidebar}>\n\t\t\t<div className={style.buttonBlock}>\n\t\t\t\t<ButtonWithPopup />\n\t\t\t\t{ sidebarView === \"chats\" && \n\t\t\t\t\t<button \n\t\t\t\t\t\tclassName={style.navButton}\n\t\t\t\t\t\ttitle=\"Contacts\"\n\t\t\t\t\t\tonClick={() => setSidebarView(\"contacts\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FontAwesomeIcon icon=\"user-friends\" />\n\t\t\t\t\t</button>\n\t\t\t\t}\n\t\t\t\t{ sidebarView === \"contacts\" &&\n\t\t\t\t\t<button \n\t\t\t\t\t\tclassName={style.navButton}\n\t\t\t\t\t\ttitle=\"Chats\"\n\t\t\t\t\t\tonClick={() => setSidebarView(\"chats\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FontAwesomeIcon icon=\"comments\" />\n\t\t\t\t\t</button>\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t{renderSidebarContent()}\n\t\t</aside>\n\t)\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Sidebar));","import React from \"react\";\n\nimport style from './style.module.css'\n\ninterface Props {\n  name: string,\n  avatarSrc: string\n}\n\nconst Empty = (props: Props) => {\n  return (\n    <div className={style.empty}>\n      <h1 className={style.emptyName}>Welcome, {props.name} </h1>\n      <img src={props.avatarSrc} alt={props.name} className={style.avatar} />\n      <p className={style.emptyInfo}>\n        Please select a chat to start messaging\n      </p>\n    </div>\n  );\n};\nexport default React.memo(Empty);","import React from \"react\";\r\nimport { bindActionCreators, Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\r\nimport * as authActions from \"../../store/auth/actions\";\r\nimport { ChatData } from '../../store/chat/types'\r\n\r\nimport style from './style.module.css'\r\nimport userAvatar from '../../img/user_avatar.png'\r\nimport chatAvatar from '../../img/chat_avatar.png'\r\n\r\nconst mapStateToProps = (state: IRootState) =>\r\n ({\r\n  activeChat: state.chat.chatSuccessData.activeChat,\r\n  activeChatName: state.chat.chatSuccessData.activeChatName,\r\n  activeUserId: state.user.userData._id,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\r\n  bindActionCreators(\r\n    {\r\n      logout: authActions.logout,\r\n    },\r\n    dispatch\r\n  );\r\n\r\ntype ButtonWithChatDetailsProps = ReturnType<typeof mapStateToProps> &\r\n  ReturnType<typeof mapDispatchToProps>\r\n\r\ninterface State {\r\n  isOpenedChatDetails: boolean\r\n}\r\n\r\nclass ButtonWithChatDetails extends React.PureComponent<ButtonWithChatDetailsProps> {\r\n\r\n  state = {\r\n    isOpenedChatDetails: false,\r\n  };\r\n\r\n  myRef = React.createRef<HTMLDivElement>()\r\n\r\n  closeChatDetails = (event: any) => {\r\n    if (this.myRef.current && !(this.myRef.current.contains(event.target))) {\r\n      this.setState({\r\n        isOpenedChatDetails: false\r\n      })\r\n    }\r\n  };\r\n\r\n  componentDidUpdate(prevProps: {}, prevState: State) {\r\n    if (prevState.isOpenedChatDetails === this.state.isOpenedChatDetails) {\r\n      return;\r\n    }\r\n    if (this.state.isOpenedChatDetails) {\r\n      document.addEventListener(\"click\", this.closeChatDetails);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.closeChatDetails);\r\n    }\r\n  }\r\n\r\n  toggleChatDetails = () => {\r\n    this.setState({\r\n      isOpenedChatDetails: !this.state.isOpenedChatDetails\r\n    })\r\n  }\r\n\r\n  getAvatarOfChat = (chat: ChatData) => {\r\n    let avatar\r\n\t\tif (chat.members.length === 1) {\r\n\t\t\t\tavatar = chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : userAvatar\r\n\t\t} else if (chat.members.length > 2) {\r\n\t\t\t\tavatar = chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : chatAvatar\r\n\t\t} else {\r\n\t\t\tlet member = chat.members.find(member => {\r\n\t\t\t\treturn member._id !== this.props.activeUserId\r\n\t\t\t})\r\n\t\t\tlet memberAvatar = member && member.avatar && `http://chat.fs.a-level.com.ua/${member.avatar.url}`\r\n\t\t\t\tavatar = chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : (memberAvatar || userAvatar)\r\n\t\t}\r\n\t\treturn avatar\r\n\t}\r\n\r\n\r\n  render() {\r\n    const { isOpenedChatDetails } = this.state;\r\n    return (\r\n      <div className={style.buttonWithChatDetails}>\r\n        <button onClick={this.toggleChatDetails} className={style.navOpener}>\r\n        <FontAwesomeIcon icon=\"comment-dots\" />\r\n        </button>\r\n        {isOpenedChatDetails &&\r\n          <div ref={this.myRef} className={style.chatDetails}>\r\n            <div className={style.chatDetailsHeader}>\r\n              <img src={this.getAvatarOfChat(this.props.activeChat)} />\r\n              <p>{ this.props.activeChatName }</p>\r\n            </div>\r\n            <nav className={style.navSidebar}>\r\n              <ul className={style.navList}>\r\n                {/* <li\r\n                  className={style.navItem}\r\n                >\r\n                  <FontAwesomeIcon icon=\"user-plus\" />\r\n                  Add member\r\n                </li> */}\r\n                <li\r\n                  className={style.navItem}\r\n                >\r\n                  <Link to=\"/chat-settings\">\r\n                    <FontAwesomeIcon icon=\"cogs\" />\r\n                    Settings\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </nav>\r\n          </div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonWithChatDetails);","import React from \"react\";\n\nimport style from './style.module.css'\nimport ButtonWithChatDetails from '../ButtonWithChatDetails'\n\ninterface Props {\n\tactiveChatName: string,\n}\n\nconst Header = (props: Props) => {\n\treturn (\n\t\t<header className={style.header}>\n\t\t\t<h1 className={style.headerName}>{props.activeChatName}</h1>\n\t\t\t<ButtonWithChatDetails />\n\t\t</header>\n\t);\n}\nexport default React.memo(Header);","import React from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\"\n\nimport style from \"./style.module.css\";\n\ninterface Props {\n    url: string,\n    icon: IconProp,\n    text: string\n}\n\nconst AttachmentLink = (props: Props) => {\n    return (\n        <a href={`http://chat.fs.a-level.com.ua/${props.url}`}\n            className={style.attachmentLink}\n        >\n            <FontAwesomeIcon icon={props.icon} size=\"3x\" className={style.fileIcon} />\n            <p>\n                {props.text}\n            </p>\n        </a>\n    );\n};\nexport default React.memo(AttachmentLink);","import React from \"react\";\nimport Iframe from 'react-iframe'\nimport MicrolinkCard from '@microlink/react';\nimport Linkify from 'linkifyjs/react';\nimport getUrls from 'get-urls';\n\nimport { MessageData, ReplyData } from \"../../store/message/types\";\nimport AttachmentLink from \"../AttachmentLink\"\nimport style from\"./style.module.css\";\n\ninterface Props {\n\tmessage: MessageData | ReplyData | null\n}\n  \nconst parseURLs = (text: string) => {\n    const urls = getUrls(text);\n    const parsedUrls = Array.from(urls).map((url, idx: number) => {\n        return (\n            <MicrolinkCard url={url} key={idx}/>\n        )\n    })\n    return (\n        <>\n            {parsedUrls}\n        </>\n    )\n}\n\nconst FormattedMessage = (props: Props) => {\n    let videoArray =  props.message && props.message.text && props.message.text.match(/http(?:s?):\\/\\/(?:www\\.)?youtu(?:be\\.com\\/watch\\?v=|\\.be\\/)([\\w\\-\\_]*)(&(amp;)?‌ [\\w\\?‌ =]*)?/)\n    if (videoArray) {\n      let videoId = videoArray && videoArray[1]\n      return (\n        <>\n          <a href={props.message && props.message.text}>{props.message && props.message.text}</a>\n          <Iframe\n            url={`https://www.youtube.com/embed/${videoId}`}\n            width=\"100%\"\n            frameBorder={0}\n            allow={\"accelerometer\"}\n            allowFullScreen\n            encrypted-media\n            picture-in-picture\n          />\n        </>\n      )\n    } else if (props.message && props.message.media) {\n      return (\n        <div className={style.mediaAttachment}>\n          <p>{props.message.text}</p>\n          {props.message.media.map(attachment => {\n            if (attachment.type === \"image/png\" || attachment.type === \"image/jpeg\") {\n              return (\n                <img\n                  key={attachment._id}\n                  className={style.attachment}\n                  src={`http://chat.fs.a-level.com.ua/${attachment.url}`}\n                  alt=\"Attachment\"\n                />\n              )\n            } else if (attachment.type === \"video/mp4\" \n                  || attachment.type === \"video/webm\" \n                  || attachment.type === \"video/ogg\") {\n              return (\n                <>\n                  <AttachmentLink\n                    url={attachment.url}\n                    icon={\"file-video\"}\n                    text={attachment.originalFileName}\n                  />\n                  <video\n                    key={attachment._id}\n                    className={style.attachment}\n                    controls>\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"video/mp4\" />\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"video/webm\" />\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"video/ogg\" />\n                    <p>Your browser doesn't support HTML5 video. Download this file for review.</p>\n                  </video>\n                </>\n              )\n            } else if (attachment.type === \"audio/mp3\" || attachment.type === \"audio/ogg\") {\n              return (\n                <>\n                  <AttachmentLink\n                    url={attachment.url}\n                    icon={\"file-audio\"}\n                    text={attachment.originalFileName}\n                  />\n                  <audio\n                    controls\n                    key={attachment._id}\n                    className={style.attachment}\n                  >\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"audio/mp3\" />\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"audio/ogg\" />\n                    <p>Your browser doesn't support HTML5 audio. Download this file for review.</p>\n                  </audio>\n                </>\n              )\n            } else if (attachment.type === \"application/zip\") {\n              return (\n                <AttachmentLink\n                  url={attachment.url}\n                  icon={\"file-archive\"}\n                  text={attachment.originalFileName}\n                />\n              )\n            } else if (attachment.type && (attachment.type.includes(\"application\") || attachment.type.includes(\"text\"))) {\n              return (\n                <AttachmentLink\n                  url={attachment.url}\n                  icon={\"file-alt\"}\n                  text={attachment.originalFileName}\n                />\n              )\n            } else {\n              return (\n                <AttachmentLink\n                  url={attachment.url}\n                  icon={\"file\"}\n                  text={attachment.originalFileName}\n                />\n              )\n            }\n          })}\n        </div>\n      )\n    } else {\n        return (\n            <>\n              <p>{ props.message && props.message.text }</p>\n              { props.message && props.message.text && \n                <Linkify>{ parseURLs(props.message.text) }</Linkify> \n              }\n            </>\n        )\n    }\n}\nexport default React.memo(FormattedMessage);","import React from 'react'\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as chatActions from \"../../store/chat/actions\";\nimport * as messageActions from \"../../store/message/actions\";\nimport { ChatData } from '../../store/chat/types'\n\nimport style from './style.module.css'\nimport User from \"../User\";\nimport userAvatar from '../../img/user_avatar.png'\nimport chatAvatar from '../../img/chat_avatar.png'\n\nconst mapStateToProps = (state: IRootState) => ({\n  chats: state.user.userData.chats,\n  activeUserId: state.user.userData._id,\n  originalMessage: state.message.savedMessage.originalMessage,\n  isForward: state.message.savedMessage.isForward\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      getActiveChat: chatActions.getActiveChat.request,\n      forwardMessage: messageActions.forwardMessage.request,\n      saveOriginalMessage: messageActions.saveOriginalMessage,\n    },\n    dispatch\n  );\n\ntype ForwardingBlockProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst ForwardingBlock: React.FC<ForwardingBlockProps> = props => {\n\n  const myRef = React.useRef<HTMLDivElement>(null);\n  \n  React.useEffect(() => {\n\t\tif (props.isForward) {\n      document.addEventListener(\"click\", closeForwardBlock);\n    } else {\n      document.removeEventListener(\"click\", closeForwardBlock);\n    }\n  }, [props.isForward])\n  \n  const closeForwardBlock = (event: any) => {\n    if (myRef.current && !(myRef.current.contains(event.target))) {\n      deleteOriginalMessage()\n    }\n  };\n\n  const deleteOriginalMessage = () => {\n    props.saveOriginalMessage({originalMessage: null, isReply: false, isForward: false})\n  }\n\n  const forwardMessage = (chatId: string) => {\n    props.getActiveChat(chatId)\n    if (props.originalMessage){\n      props.forwardMessage({ activeChatId: chatId, originalMessageId: props.originalMessage._id })\n    }\n  }\n\n  const getDetailsOfChat = (chat: ChatData) => {\n\t\tif (chat.members.length === 1) {\n\t\t\tlet details = {\n\t\t\t\tname: \"You\",\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : userAvatar\n\t\t\t}\n\t\t\treturn details\n\t\t} else if (chat.members.length > 2) {\n\t\t\tlet details = {\n\t\t\t\tname: chat.title || \"Group\",\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : chatAvatar\n\t\t\t}\n\t\t\treturn details\n\t\t} else {\n\t\t\tlet member = chat.members.find(member => {\n\t\t\t\treturn member._id !== props.activeUserId\n\t\t\t})\n\t\t\tlet memberAvatar = member && member.avatar && `http://chat.fs.a-level.com.ua/${member.avatar.url}`\n      let groupTitleFromMember = member && (member.nick || member.login)\n      let details = {\n\t\t\t\tname: chat.title ? chat.title : groupTitleFromMember,\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : (memberAvatar || userAvatar)\n\t\t\t}\n\t\t\treturn details\n\t\t}\n  }\n\n  return (\n    <div ref={myRef} className={style.forwardingContainer}>\n      <header className={style.containerHeader}>\n        <h4 className={style.containerTitle}>Choose recipient</h4>\n        <button onClick={() => deleteOriginalMessage()}>\n          <FontAwesomeIcon icon=\"times\" />\n        </button>\n      </header>\n      <div>\n        { props.chats.map(chat => {\n          return (\n            <User\n              key={chat._id}\n              chatId={chat._id}\n              name={getDetailsOfChat(chat).name}\n              avatarSrc={getDetailsOfChat(chat).avatar}\n              onClick={() => forwardMessage(chat._id)}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(ForwardingBlock));","import React from 'react'\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport classnames from 'classnames';\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as messageActions from \"../../store/message/actions\";\n\nimport ForwardingBlock from \"../ForwardingBlock\"\nimport style from './style.module.css'\n\nconst mapStateToProps = (state: IRootState) => ({\n  originalMessage: state.message.savedMessage.originalMessage,\n  isForward: state.message.savedMessage.isForward,\n  isReply: state.message.savedMessage.isReply,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      forwardMessage: messageActions.forwardMessage.request,\n      saveOriginalMessage: messageActions.saveOriginalMessage,\n    },\n    dispatch\n  );\n\ntype MessageMenuProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst MessageMenu: React.FC<MessageMenuProps> = props => {\n\n  const [isVisibleMenu, setIsVisibleMenu] = React.useState(true);\n\n  const myRef = React.useRef<HTMLDivElement>(null);\n  \n  React.useEffect(() => {\n\t\tif (props.originalMessage) {\n      document.addEventListener(\"click\", closeForwardBlock);\n    } else {\n      document.removeEventListener(\"click\", closeForwardBlock);\n    }\n  }, [props.originalMessage])\n  \n  const closeForwardBlock = (event: any) => {\n    if (myRef.current && !(myRef.current.contains(event.target))) {\n      setIsVisibleMenu(false)\n    }\n  };\n\n  const replyToMessage = () => {\n    props.saveOriginalMessage({originalMessage: props.originalMessage, isReply: true})\n    setIsVisibleMenu(false)\n  }\n\n  const forwardMessage = () => {\n    props.saveOriginalMessage({originalMessage: props.originalMessage, isForward: true})\n  }\n\n  return (\n    <>\n      <div ref={myRef}\n        className={classnames(style.messageMenu, {\n          [style.invisible]: !isVisibleMenu\n        })} \n      >\n        <ul className={style.menuList}>\n          <li \n            className={style.menuItem}\n            onClick = { () => replyToMessage()}\n          >\n            <FontAwesomeIcon icon=\"reply\" />\n            Reply\n          </li>\n          <li \n            className={style.menuItem}\n            onClick = { () => forwardMessage()}\n          >\n            <FontAwesomeIcon icon=\"share\" />\n            Forward message\n          </li>\n        </ul>\n      </div>\n      { props.isForward &&\n        <ForwardingBlock />\n      }\n    </>\n  )\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(MessageMenu));","import React, {useRef} from \"react\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport classnames from 'classnames';\nimport moment from 'moment';\n\nimport { IRootState, IRootAction } from \"../../store/rootReducer\";\nimport * as messageActions from \"../../store/message/actions\";\nimport { MessageData } from \"../../store/message/types\";\nimport FormattedMessage from \"../FormattedMessage\"\nimport MessageMenu from \"../MessageMenu\"\nimport style from './style.module.css'\n\nconst mapStateToProps = (state: IRootState) => ({\n  activeUserId: state.user.userData._id,\n  nick: state.user.userData.nick,\n  activeChat: state.chat.chatSuccessData.activeChat,\n  activeChatName: state.chat.chatSuccessData.activeChatName,\n  messages: state.chat.chatSuccessData.activeChat ? state.chat.chatSuccessData.activeChat.messages : [],\n  media: state.message.messageData.media,\n  mediaUrl: state.media.fileData.url,\n  originalMessage: state.message.savedMessage.originalMessage,\n  isForward: state.message.savedMessage.isForward\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      saveOriginalMessage: messageActions.saveOriginalMessage,\n    },\n    dispatch\n  );\n\ntype ChatProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst Chat: React.FC<ChatProps> = props => {  \n\n  const chatsRef = useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n\t\tscrollToBottom();\n  }, [])\n  \n  React.useEffect(() => {\n\t\tscrollToBottom();\n\t}, [props.messages])\n\n  const scrollToBottom = () => {\n    if (chatsRef.current) {\n      chatsRef.current.scrollTop = chatsRef.current.scrollHeight;\n    }\n  }\n\n  const isUserMsg = (message: MessageData) => {\n    return message.owner._id === props.activeUserId ? true : false\n  }\n\n  const saveOriginalMessage = (message: MessageData) => {\n    props.saveOriginalMessage({originalMessage: message, isReply: false, isForward: false})\n  }\n\n  return (\n    <div className={style.chats} ref={chatsRef}>\n      { props.messages && props.messages.map((message: MessageData) => (\n        <div \n          key={message._id}\n          className={classnames(style.chat, {\n            [style.isUserMsg]: isUserMsg(message)\n          })}\n          onClick = { () => saveOriginalMessage(message) }\n        >\n          { message.replyTo &&\n            <div className={style.replyBlock}>\n              <p className={style.owner}>\n                { message.replyTo.owner.nick || message.replyTo.owner.login }\n              </p>\n                <FormattedMessage message={message.replyTo} />\n            </div>\n          }\n          { message.forwarded &&\n            <div className={style.forwardedBlock}>\n              <p className={style.owner}>\n                Forwarded from { message.forwarded.owner.nick || message.forwarded.owner.login }\n              </p>\n              <FormattedMessage message={message.forwarded} />\n            </div>\n          } \n          { props.activeChat.title && !isUserMsg(message) &&\n            <p className={style.owner}>\n              { message.owner.nick || message.owner.login }\n            </p>\n          }\n          <FormattedMessage message={message} />\n          <time className={style.timeBlock}>\n            {moment(+message.createdAt).format('HH:mm  DD.MM')}\n          </time>\n        </div>\n      ))}\n      { props.originalMessage && \n        <MessageMenu />\n      }\n    </div>\n  );\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Chat));","import React from 'react'\nimport 'emoji-mart/css/emoji-mart.css'\nimport { Picker } from 'emoji-mart'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport style from './style.module.css'\n\ninterface Props {\n  addEmoji: any\n}\n\ninterface State {\n  isOpenedEmoji: boolean,\n  emojiObj: string\n}\n\nclass ButtonWithEmoji extends React.PureComponent<Props, State> {\n  constructor(props: never) {\n    super(props);\n    this.state = {\n      isOpenedEmoji: false,\n      emojiObj: \"\"\n    }\n  }\n\n  myRef = React.createRef<HTMLDivElement>()\n\n  closeEmoji = (event: any) => {\n    if (this.myRef.current && !(this.myRef.current.contains(event.target))) {\n      this.setState({\n        isOpenedEmoji: false\n      })\n    }\n  };\n\n  componentDidUpdate(prevProps: {}, prevState: State) {\n    if (prevState.isOpenedEmoji === this.state.isOpenedEmoji) {\n      return;\n    }\n    if (this.state.isOpenedEmoji) {\n      document.addEventListener(\"click\", this.closeEmoji);\n    } else {\n      document.removeEventListener(\"click\", this.closeEmoji);\n    }\n  }\n\n  toggleEmoji = () => {\n    this.setState({\n      isOpenedEmoji: !this.state.isOpenedEmoji\n    })\n  }\n\n  render() {\n    const { isOpenedEmoji } = this.state;\n    return (\n      <div className={style.buttonWithEmoji}>\n        <button onClick={ this.toggleEmoji } className={style.button}>\n          <FontAwesomeIcon icon=\"smile\" />\n        </button>\n        { isOpenedEmoji && \n          <div ref={this.myRef} className={style.emojiBlock}>\n            <Picker set='google' onSelect={emoji => {this.props.addEmoji(emoji)}} />\n          </div>\n        }\n      </div>\n    )\n  }\n}\nexport default ButtonWithEmoji;\n","import React from 'react'\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as messageActions from \"../../store/message/actions\";\nimport * as mediaActions from \"../../store/media/actions\";\n\nimport style from './style.module.css'\n\nconst mapStateToProps = (state: IRootState) => ({\n  activeChatId: state.chat.chatSuccessData.activeChat._id,\n  fileId: state.media.fileData._id\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      uploadFile: mediaActions.uploadFile.request,\n      sendMessage: messageActions.sendMessage.request\n    },\n    dispatch\n  );\n\ntype ButtonWithFileUploadProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\ninterface State {\n  isOpenedFileUpload: boolean,\n  fileMessage: string\n}\n\nclass ButtonWithFileUpload extends React.PureComponent<ButtonWithFileUploadProps> {\n  state = {\n    isOpenedFileUpload: false,\n    fileMessage: \"\"\n  }\n\n  myRef = React.createRef<HTMLDivElement>()\n  myFormRef = React.createRef<HTMLFormElement>()\n  fileAttachmentRef = React.createRef<HTMLInputElement>();\n\n  closeFileUpload = (event: any) => {\n    if (this.myRef.current && !(this.myRef.current.contains(event.target))) {\n      this.setState({\n        isOpenedFileUpload: false\n      })\n    }\n  };\n\n  componentDidUpdate(prevProps: {}, prevState: State) {\n    if (prevState.isOpenedFileUpload === this.state.isOpenedFileUpload) {\n      return;\n    }\n    if (this.state.isOpenedFileUpload) {\n      document.addEventListener(\"click\", this.closeFileUpload);\n    } else {\n      document.removeEventListener(\"click\", this.closeFileUpload);\n    }\n  }\n\n  toggleFileUpload = () => {\n    this.setState({\n      isOpenedFileUpload: !this.state.isOpenedFileUpload\n    })\n  }\n\n  uploadFile = (form: HTMLFormElement) => {\n    this.props.uploadFile(form)\n  }\n\n  sendAttachment = (e: React.FormEvent<HTMLFormElement>) => {\n    const { fileMessage } = this.state;\n\n    if (this.props.activeChatId) {\n      this.props.sendMessage({\n        activeChatId: this.props.activeChatId,\n        text: fileMessage,\n        mediaId: this.props.fileId\n      })      \n    }\n\n    this.setState({\n      isOpenedFileUpload: false,\n      fileMessage: '',\n    });\n  }\n\n  render() {\n    const { isOpenedFileUpload, fileMessage } = this.state;\n    return (\n      <div className={style.buttonWithFileUpload}>\n        <button onClick={this.toggleFileUpload} className={style.paperclipButton} >\n          <FontAwesomeIcon icon=\"paperclip\" />\n        </button>\n        { isOpenedFileUpload &&\n          <div ref={this.myRef} className={style.dialogContainer}>\n            <header className={style.dialogHeader}>\n              <h4>Upload a file</h4>\n              <button \n                onClick={() => this.setState({ isOpenedFileUpload: false })}\n              >\n                <FontAwesomeIcon icon=\"times\" />\n              </button>\n            </header>\n            <form\n              className={style.dialogForm}\n              ref={this.myFormRef}\n              method=\"post\"\n              action='/upload'\n              encType=\"multipart/form-data\"\n              id=\"form\"\n              onSubmit={this.sendAttachment}\n            >            \n              <input\n                type=\"file\"\n                name=\"media\"\n                id=\"media\"\n                ref={this.fileAttachmentRef}\n                onChange={() => { if (this.myFormRef.current) this.uploadFile(this.myFormRef.current) }}\n              />\n              <label className={style.dialogLabel} htmlFor=\"fileMessage\">\n                Add a message about the file\n              </label>\n              <input\n                id=\"fileMessage\"\n                className={style.dialogInput}\n                autoFocus\n                type=\"text\"\n                name=\"fileMessage\"\n                value={fileMessage}\n                onChange={(e) => this.setState({ fileMessage: e.target.value })}\n                placeholder=\"Write your message\"\n              />\n              <button type=\"submit\" className={style.submitBtn}>\n                Upload\n            </button>\n            </form>\n          </div>\n        }\n      </div>\n    )\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonWithFileUpload);\n\n\n\n// const ButtonWithFileUpload: React.FC<ButtonWithFileUploadProps> = props => {\n\n//   const [isOpenedFileUpload, setIsOpenedFileUpload] = React.useState(false);\n//   const [fileMessage, setFileMessage] = React.useState(\"\");\n\n//   const myRef = React.useRef<HTMLDivElement>(null);\n//   const myFormRef = React.useRef<HTMLFormElement>(null);\n//   const fileAttachmentRef = React.useRef<HTMLInputElement>(null);\n  \n//   React.useEffect(() => {\n// \t\tif (isOpenedFileUpload) {\n//       document.addEventListener(\"click\", closeFileUpload);\n//     } else {\n//       document.removeEventListener(\"click\", closeFileUpload);\n//     }\n// \t}, [isOpenedFileUpload])\n\n//   const closeFileUpload = (event: any) => {\n//     if (myRef.current && !(myRef.current.contains(event.target))) {\n//       setIsOpenedFileUpload(false)\n//     }\n//   };\n\n//   const toggleFileUpload = () => {\n//     setIsOpenedFileUpload(!isOpenedFileUpload)\n//   }\n\n//   const uploadFile = (form: HTMLFormElement) => {\n//     props.uploadFile(form)\n//   }\n\n//   const sendAttachment = (e: React.FormEvent<HTMLFormElement>) => {\n//     if (props.activeChatId) {\n//       props.sendMessage({\n//         activeChatId: props.activeChatId,\n//         text: fileMessage,\n//         mediaId: props.fileId\n//       })      \n//     }\n//     setIsOpenedFileUpload(false)\n//     setFileMessage(\"\")\n//   }\n\n//   return (\n//     <div className={style.buttonWithFileUpload}>\n//       <button onClick={toggleFileUpload} className={style.paperclipButton} >\n//         <FontAwesomeIcon icon=\"paperclip\" />\n//       </button>\n//       { isOpenedFileUpload &&\n//         <div ref={myRef} className={style.dialogContainer}>\n//           <header className={style.dialogHeader}>\n//             <h4>Upload a file</h4>\n//             <button \n//               className={style.uploadButton} \n//               onClick={() => setIsOpenedFileUpload(false)}\n//             >\n//               <FontAwesomeIcon icon=\"times\" />\n//             </button>\n//           </header>\n//           <form\n//             className={style.dialogForm}\n//             ref={myFormRef}\n//             method=\"post\"\n//             action='/upload'\n//             encType=\"multipart/form-data\"\n//             id=\"form\"\n//             onSubmit={sendAttachment}\n//           >            \n//             <input\n//               type=\"file\"\n//               name=\"media\"\n//               id=\"media\"\n//               ref={fileAttachmentRef}\n//               onChange={() => { if (myFormRef.current) uploadFile(myFormRef.current) }}\n//             />\n//             <label className={style.dialogLabel} htmlFor=\"fileMessage\">\n//               Add a message about the file\n//             </label>\n//             <input\n//               id=\"fileMessage\"\n//               className={style.dialogInput}\n//               autoFocus\n//               type=\"text\"\n//               name=\"fileMessage\"\n//               value={fileMessage}\n//               onChange={(e) => setFileMessage(e.target.value)}\n//               placeholder=\"Write your message\"\n//             />\n//             <button type=\"submit\" className={style.submitBtn}>\n//               Upload\n//           </button>\n//           </form>\n//         </div>\n//       }\n//     </div>\n//   )\n// }\n// export default connect(mapStateToProps, mapDispatchToProps)(React.memo(ButtonWithFileUpload));\n","import React from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { MessageData } from \"../../store/message/types\";\nimport FormattedMessage from \"../FormattedMessage\"\nimport style from\"./style.module.css\";\n\ninterface Props {\n    originalMessage: MessageData | null,\n    deleteOriginalMessage: ((event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void) | undefined\n}\n\nconst OriginalMessageBlock = (props: Props) => {\n    return (\n        <div className={style.originalMessageBlock}>\n            <div className={style.originalMessage}>\n                <p className={style.owner}>\n                    { props.originalMessage && (props.originalMessage.owner.nick || props.originalMessage.owner.login) }\n                </p>\n                <FormattedMessage message={props.originalMessage} />\n                <button \n                    onClick = {props.deleteOriginalMessage}\n                    className={style.deleteOriginalMessage}\n                >\n                    <FontAwesomeIcon icon=\"times\" />\n                </button>\n            </div>\n        </div>\n\t);\n}\nexport default React.memo(OriginalMessageBlock);","import React from \"react\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as messageActions from \"../../store/message/actions\";\n\nimport ButtonWithEmoji from \"../ButtonWithEmoji\"\nimport ButtonWithFileUpload from \"../ButtonWithFileUpload\"\nimport OriginalMessageBlock from \"../OriginalMessageBlock\"\nimport style from './style.module.css'\n\nconst mapStateToProps = (state: IRootState) => ({\n  activeChatId: state.chat.chatSuccessData.activeChat._id,\n  originalMessage: state.message.savedMessage.originalMessage,\n  isReply: state.message.savedMessage.isReply,\n  isForward: state.message.savedMessage.isForward\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      sendMessage: messageActions.sendMessage.request,\n      replyToMessage: messageActions.replyToMessage.request,\n      forwardMessage: messageActions.forwardMessage.request,\n      saveOriginalMessage: messageActions.saveOriginalMessage,\n    },\n    dispatch\n  );\n\ntype MessageInputProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst MessageInput: React.FC<MessageInputProps> = (props) => {\n  const [text, setText] = React.useState(\"\");\n\n  const deleteOriginalMessage = () => {\n    props.saveOriginalMessage({originalMessage: null, isReply: false, isForward: false})\n  }\n\n  const addEmoji = (emoji: any) => {\n    setText(text + emoji.native)\n  }\n\n  const sendMessageHandler = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    if (text.trim() === '') return;\n    if (props.activeChatId && props.originalMessage && props.isReply) {\n      props.replyToMessage({ activeChatId: props.activeChatId, text, originalMessageId: props.originalMessage._id })\n    } else if (props.activeChatId) {\n      props.sendMessage({ activeChatId: props.activeChatId, text, mediaId: null })\n    }\n    setText(\"\")\n  }\n\n  return (\n    <>\n      { props.isReply &&\n        <OriginalMessageBlock \n          originalMessage={props.originalMessage}\n          deleteOriginalMessage={deleteOriginalMessage}\n        />\n      }\n      <div className={style.messageBlock}>\n        <ButtonWithEmoji addEmoji={addEmoji} />\n        <form action=\"\" onSubmit={sendMessageHandler} className={style.messageForm}>\n          <input\n            className={style.messageInput}\n            placeholder=\"Write your message\"\n            type=\"text\"\n            autoFocus={true}\n            value={text}\n            onChange={e => setText(e.target.value)}\n          />\n          <div className={style.buttonBlock}>\n            <button type=\"submit\" className={style.button} >\n              <FontAwesomeIcon icon=\"paper-plane\" />\n            </button>\n            <ButtonWithFileUpload />\n          </div>\n        </form>\n      </div>\n    </>\n  );\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(MessageInput));","import React from \"react\";\nimport Header from \"../Header\";\n\nimport Chat from \"../Chat\";\nimport MessageInput from \"../MessageInput\";\nimport style from './style.module.css'\n\ninterface Props {\n  name: string,\n}\n\nconst ChatWindow = (props: Props) => {\n  return (\n    <div className={style.chatWindow}>\n      <Header activeChatName = {props.name} />\n      <Chat />\n      <MessageInput />\n    </div>\n  );\n};\n\nexport default React.memo(ChatWindow);","import React from 'react';\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as userActions from \"../../store/user/actions\";\n\nimport style from './style.module.css'\nimport Empty from \"../Empty\";\nimport ChatWindow from \"../ChatWindow\";\nimport userAvatar from '../../img/user_avatar.png'\n\nconst mapStateToProps = (state: IRootState) => ({\n  nick: state.user.userData.nick,\n  login: state.user.userData.login,\n  avatar: state.user.userData.avatar ? `http://chat.fs.a-level.com.ua/${state.user.userData.avatar.url}` : userAvatar,\n\tactiveChatId: state.chat.chatSuccessData.activeChat._id,\n  activeChatName: state.chat.chatSuccessData.activeChatName\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      getUser: userActions.getUser.request,\n    },\n    dispatch\n  );\n\ntype MainProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst Main: React.FC<MainProps> = props => {\n\n  const renderMainPageContent = () => {\n    if (!props.activeChatId) {\n      return (\n        <Empty \n          name={props.nick || props.login}\n          avatarSrc={props.avatar} \n        />\n      )\n    }  else {\n      return (\n        <ChatWindow name={props.activeChatName} />\n      )\n    }\n  }\n\n  return (\n    <main className={style.main}>\n      {renderMainPageContent()}\n    </main>\n  )\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Main));\n","import React from \"react\";\r\nimport { bindActionCreators, Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport io from 'socket.io-client';\r\n\r\nimport { IRootAction } from \"../../store/rootReducer\";\r\nimport * as userActions from \"../../store/user/actions\";\r\nimport * as messageActions from \"../../store/message/actions\";\r\nimport { MessageData } from '../../store/message/types'\r\nimport { DecodedToken } from '../../store/auth/types'\r\n\r\nimport style from './style.module.css'\r\nimport Sidebar from '../Sidebar';\r\nimport Main from \"../Main\";\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\r\n  bindActionCreators(\r\n    {\r\n      getUser: userActions.getUser.request,\r\n      onMessage: messageActions.onMessage,\r\n    },\r\n    dispatch\r\n  );\r\n\r\ntype ProfileProps = ReturnType<typeof mapDispatchToProps>;\r\n\r\nconst Profile: React.FC<ProfileProps> = props => {\r\n\r\n  React.useEffect(() => {\r\n    const authToken = localStorage.getItem('authToken')\r\n    if (!authToken) {\r\n      return\r\n    }\r\n\r\n    const socket = io('http://chat.fs.a-level.com.ua/');\r\n    socket.emit('jwt', localStorage.authToken)\r\n    socket.on('jwt_ok', (data: DecodedToken) => console.log(data))\r\n    socket.on('jwt_fail', (error: string) => console.log(error))\r\n    socket.on('msg', (message: MessageData) => {\r\n      props.onMessage(message)\r\n    })\r\n  },[])\r\n\r\n  return (\r\n    <div className={style.profile}>\r\n      <Sidebar />\r\n      <Main />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect( null, mapDispatchToProps)(React.memo(Profile));\r\n","module.exports = __webpack_public_path__ + \"static/media/user_avatar.c3631c65.png\";","import React from \"react\";\n\nimport { MessageData } from '../../store/message/types'\nimport style from \"./style.module.css\"\n\ninterface Props {\n  chatId?: string,\n  newMessage?: MessageData,\n  activeChatId?: string | null,\n}\n\nconst NewMessageCounter = (props: Props) => {\n  const [counter, setCounter] = React.useState(0)\n\n  let chatIdWithNewMessage = props.newMessage && (props.newMessage.chat ? props.newMessage.chat._id : null)\n  \n  React.useEffect(() => {\n    if (props.newMessage && (chatIdWithNewMessage === props.chatId) && (props.chatId !== props.activeChatId)) {\n      setCounter(counter + 1)\n    }\n\n    if (props.chatId === props.activeChatId) {\n      setCounter(0)\n    }\n  }, [props.newMessage, props.activeChatId])\n\n  return (  \n    <>\n      { counter > 0 && \n        <div className={style.counter}>\n          {counter}\n        </div>\n      }\n    </>\n  );\n};\nexport default React.memo(NewMessageCounter);","import React from \"react\";\n\nimport { MessageData } from '../../store/message/types'\n\nimport NewMessageCounter from \"../NewMessageCounter\"\nimport style from './style.module.css'\n\ninterface Props {\n  name: string | undefined,\n  chatId?: string,\n  avatarSrc: string,\n  newMessage?: MessageData,\n  activeChatId?: string | null,\n  onClick?: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void\n}\n\nconst User = (props: Props) => {\n\n  React.useEffect(() => {\n\t\tconst authToken = localStorage.getItem('authToken')\n\t\tif (!authToken) {\n\t\t\treturn\n\t\t}\n  }, [])\n  \n  return (  \n    <div className={style.user} onClick={props.onClick}>\n      <img src={props.avatarSrc} alt=\"avatar\" className={style.userImg} />\n      <div className={style.userDetails}>\n        <p className={style.useDetailsName}>{props.name}</p>\n      </div >\n      <NewMessageCounter\n        chatId={props.chatId}\n        newMessage={props.newMessage}\n        activeChatId={props.activeChatId}\n      />\n    </div>\n  );\n};\nexport default React.memo(User);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"style_counter__1moC1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"style_user__2v5VR\",\"userImg\":\"style_userImg__1CkCR\",\"userDetails\":\"style_userDetails__wkzC-\",\"userDetailsName\":\"style_userDetailsName__2_mEK\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAflBMVEUAAAD///9HR0d4eHiampr8/Pzk5OT39/fy8vLd3d3R0dHq6upEREQ/Pz88PDyMjIxycnIqKioTExPIyMjY2NhMTEyBgYG7u7tfX19paWlkZGQeHh65ubnDw8Obm5uhoaGwsLCnp6eJiYkaGhpVVVUPDw8xMTElJSUvLy93d3edrNP8AAAJNElEQVR4nO2dbVvbOgyGY1hJaXkpr6PARjsKbP//D541akliy5YeJ+7Bu/x83Orad2LLkiyXanl29G+rOqv+dR393wNIrkKYvwph/iqE+asQ5q9CmL8KYf4qhPmrEOavQpi/CmH+KoT5qxDmr0KYvwph/iqE+asQ5q9CmL8KYf4qhPmrEOavQpi/CmH+KoT5qxCOqqfzu7uLp0P2WB2O8Or4+aSemL+a1KerxceBuq0ORXh/a/qazP4cpOPqMIQvtWE0vTxA19UhCH9xeI3q4+SdV+kJ30+9gH81e03cfZWccDEJAf59jZu0/VepCS/DfFsln6lJCV9kQGN+pRxBlZbwpwbQmPuEQ6iSEt7rAI15TDeGKiXhmRbQTK6SDaJKSThVE5rTZIOoEhKu9IDGfEs1iiodoX6ONrpONIwqHeEMI/yeaBhVMsINBmhMOmMTQXj+sHw8EqbVDUq4Ejq9PnpcPpzjg0UJLy5vPiOh2cud93O/UUBTv/l7vXv5nPP1zeUFNGKMcGHHCXNfiPcNJvT7p5dz65Oni0SEC7un5pnydv4EJ7zhe/3GRc9zhFFL+OozjnMm/nnDAc2E63XDPdWtgMBSSbgIjO3F+fRxBKF5cHsNxSbq16gjDK8rZ4JB/sxe7poOG2StH6QiXAuDm1mfB7d70g+7V+lb1uMRypbRQvStnqBu4ceke4sKwtAa3GvVaxEDaOp+r5qZrlqLMuG7any9zqIIDfxYjXkfhTCYDvzUpGO+X4cTvgo5up00gaVI6E/o9tUxFE/DCX8o2yjSWCIhm5Hn1H7T9WDCI22b2h0wSqj3MDv2NAqwS6jfbmR7KhEC2ZbW6Y/AM2badnoR1SqO8BEYYrsDRzjevTmwBpotBxJqV/xW7eOM8mme216BieO6QiCh2s5s9RmCq7L5ttrU9znSTLQ1YUJgQZiO77yEmu3UjkRxntORFPOHCbWbIamdMFAzUsdkIEtD3hLDhFgY1HoYEQuxk0/UeVF7rQYRYiNtl4T6UKZVJwCGFr8TumGE2NPs7Nk6t7KjeadXrKXkm4YJwY2tbQhH+V3fBGt5ckjCNuepC7ladfNQYB7roISdls9Yy5/dXrGmwwij1yG4EvvbNtbpsHWIHT/0vGDInPbPuRGnzZtKVhJi7lc/lwTsNM/9Xu0iuLDcdC1CiKV2rYGqX4W9krA1LBXkhAmxfIRVNqIN1J1CBcxfkOpVhdgCynzaZwkPumaO6wxlsuZ2a5BwDfTlGjUVIjMCxISLmW+BUJ0SMtzBQ7UR94wpF/wg4ZOYSpM+ADxO7uD7SvAZZuzRL5CskzOmEqEu97zViv+C4IbjO0PWu7VyYl98yWrHzWfT3r0b4w9vPbvahksum4ZQaRADicuN5yHdBn5LXJumZY5VYULl/us12veBSRCoOdBtU8/e9gihzjfxnAL9EUZ64qu8VIVfcjpYR6gpjuFdp3OFJZ55qqE0DuPvkQgVS5FfhEq/3WNQ5aWoWIRKQjH/ybr3V+qt1FM6Ij0gZTWGrhYj7JuwGUutDd6q5kcRzNZOtPcYlPU0T/4Xwl+ZwPLWnvex8ecVT9VX4NRVX75lwVeGrjFA72L87vk4UFQMVO5xvsmcPzWIKBnyjPmC226kJHAc4XLGrsUTbhGucUAP4i/WX5jMxFNDmPDR75nUzgSLqL3cyr1Zculfh15XIY7wPZwbmvY3JuzAqiNr0A9hZ+pWU0yjJJTfSdfcINuEpV6Vs8/ItBqr6utNkxacfg7uCTs56qnjvp9pvGE+fkYJVV2Z1jMF0+R9fWZ3/+g+P1X8MSeJUF2MsYtFo47wW+0ss95WyQZHINQnMeiL7mKwuvoAu5W90zChvqddLBpVWdrV7mQAOBKQEIOEQL0QrXnlncqQaFdECk6EiRoiBLqhvOwVzONqd9CG1GOEr9KECPV2f3eEC98F4rRqvuoDaBEuGgoQAodcFALD17l4kTMvb/it7BJxJSHgXU6e0EcSEhUeQaVfIe/GS4icWDyP+Qr3LxGq5QlMRe9/IUUKF2O+wv1LhPzbQO7bR4jYfQpIB2/2rWjbh/bWnx4OLyFk92nPxertglo1X4ileryXUD2EyHBr/JmovhE7YvdW0vKE0E1seuIjuDOtyLHBtldfmMETQnaMLstiRTCC6NwT8L+NPz3FEkKvkI5HBkT2nMgRw9p4XiJLCBmNVdMErGOTRE4SNk09K5EjxIwGpaHggtKwKJ8BFuLy5pQjXCNfS3Zv5EkaN035whOOEDIalFqJuhcbEnmaWNKHPzBlCLG7BJRZibolE9ItPps892cYQsw5aaYTEs0pFTP5WVvDEEJGg2ZGRG2+pCY38YYZMPZOv0uI7bO0DJFwVamXmNnPZaVcQmy05NMPTrG5ooUIWjDuMNMlxNyvZjcc0+veq46Z/pw1dQjB0TZFBqPvhls1R0tIpmErZtN3CLGzMfI9Ig8Mw2oOQl7Bcx7mvNYhxPYKWi0JDM3eQwFXOLNfOISY9XqOaKMUWWnwFhyTr7EJwSs55FwNODL0ixYA6g66J4o2Ibi0m2D8Y+TAgkR2EV3i7t5g/wtY6dPE96MlSvtqjCnmf3B1OTbhGvvCprY76tqvrGZoaI7SjaBsQvBwpWmTwCvdKsqZcG9B2YQx9/GSbIe7DRH9jQ3XmNqE2P5D1mD08JdEdhq0Ym41tkV4jRl+emJJNvz9kgKzlLVz68MiBKc95TVHzOd3tYqYVExltEWI/YjCzmkb5ejXFRGi/pJTLGkRgj+sOktJGOcROnlhixDcfogw6qdMZMUROj/IOQbhl3qHORGuogidqvNhhGRpvpQtld4hGFocYLdAT+2c4GKYLSUPYuRzp70on4jGnpItBfdDSsGuwUEo1eRc4B97lfZDNJhtGoExpVbNKQT6+30T59amPW3Bad+0QaNUpTYRk4rJmA6LLWhOJEmX7r4b+cG4rcTYAi3TXsY8Z53q15gV4N7ttglBy09pEXAUOtF8W4Ot3ISpTXh3DImaL7BGOtFx5wZs5f5OfKK/HPCFVAjzVyHMX4UwfxXC/FUI81chzF+FMH8VwvxVCPNXIcxfhTB/FcL8VQjzVyHMX4UwfxXC/FUI81chzF+FMH8VwvxVCPNXIcxfhTB/FcL89c8T/gf753nAdsm8qgAAAABJRU5ErkJggg==\""],"sourceRoot":""}