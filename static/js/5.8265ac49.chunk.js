(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[5],{227:function(e,t,a){e.exports={container:"style_container__xzI97",card:"style_card__2GpAs",header:"style_header__2fbvp",main:"style_main__2Q6_f",form:"style_form__3OwfY",buttonBlock:"style_buttonBlock__29ddq",users:"style_users__-mXZN",contacts:"style_contacts__10WPO",members:"style_members__3Fwuh"}},235:function(e,t,a){"use strict";a.r(t);var n=a(34),r=a(65),c=a(1),i=a.n(c),l=a(21),s=a(22),o=a(64),u=a(9),m=a(227),f=a.n(m),v=a(89),d=a(72),h=a.n(d);t.default=Object(s.c)((function(e){return{activeUser:e.user.userData,contacts:e.contacts.contactsData,chatAvatar:e.chat.chatSuccessData.activeChat.avatar?"http://chat.fs.a-level.com.ua/".concat(e.chat.chatSuccessData.activeChat.avatar.url):h.a,imageId:e.media.fileData._id,imageUrl:"http://chat.fs.a-level.com.ua/".concat(e.media.fileData.url)}}),(function(e){return Object(l.b)({getActiveChat:u.c.request,addGroup:u.b.request},e)}))(i.a.memo((function(e){var t=[e.activeUser],a=i.a.useState(""),c=Object(r.a)(a,2),l=c[0],s=c[1],u=i.a.useState(t),m=Object(r.a)(u,2),d=m[0],p=m[1],_=i.a.useRef(null);return i.a.createElement("div",{className:f.a.container},i.a.createElement("div",{className:f.a.card},i.a.createElement("div",{className:f.a.header},i.a.createElement("h2",null,"Create New Chat")),i.a.createElement("div",{className:f.a.main},i.a.createElement("form",{className:f.a.form,ref:_,method:"post",action:"/upload",encType:"multipart/form-data",id:"form"},i.a.createElement("label",{htmlFor:"title"},"Group name"),i.a.createElement("input",{className:f.a.titleInput,type:"text",id:"title",value:l,onChange:function(e){return s(e.target.value)}})),i.a.createElement("h4",null,"Add members"),i.a.createElement("div",{className:f.a.users},i.a.createElement("div",{className:f.a.contacts},e.contacts.map((function(e){return i.a.createElement(v.a,{key:e._id,name:e.nick||e.login,avatarSrc:e.avatar?"http://chat.fs.a-level.com.ua/".concat(e.avatar.url):h.a,onClick:function(){return function(e){d.includes(e)||p([].concat(Object(n.a)(d),[e]))}(e)}})}))),i.a.createElement("div",{className:f.a.members},d.map((function(e){return i.a.createElement(v.a,{key:e._id,name:e.nick||e.login,avatarSrc:e.avatar?"http://chat.fs.a-level.com.ua/".concat(e.avatar.url):h.a})}))))),i.a.createElement("div",{className:f.a.buttonBlock},i.a.createElement("button",{onClick:function(){e.addGroup({chatTitle:l,members:d})}},"Create"),i.a.createElement("button",null,i.a.createElement(o.a,{to:"/profile"},"Cancel")))))})))},64:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(29),r=a(19),c=a(1),i=a.n(c),l=a(20),s=(a(11),a(8)),o=a(16),u=a(18);i.a.Component;i.a.Component;var m=function(e,t){return"function"===typeof e?e(t):e},f=function(e,t){return"string"===typeof e?Object(l.c)(e,null,null,t):e},v=function(e){return e},d=i.a.forwardRef;"undefined"===typeof d&&(d=v);var h=d((function(e,t){var a=e.innerRef,n=e.navigate,r=e.onClick,c=Object(o.a)(e,["innerRef","navigate","onClick"]),l=c.target,u=Object(s.a)({},c,{onClick:function(e){try{r&&r(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||l&&"_self"!==l||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),n())}});return u.ref=v!==d&&t||a,i.a.createElement("a",u)}));var p=d((function(e,t){var a=e.component,r=void 0===a?h:a,c=e.replace,l=e.to,p=e.innerRef,_=Object(o.a)(e,["component","replace","to","innerRef"]);return i.a.createElement(n.e.Consumer,null,(function(e){e||Object(u.a)(!1);var a=e.history,n=f(m(l,e.location),e.location),o=n?a.createHref(n):"",h=Object(s.a)({},_,{href:o,navigate:function(){var t=m(l,e.location);(c?a.replace:a.push)(t)}});return v!==d?h.ref=t||p:h.innerRef=p,i.a.createElement(r,h)}))})),_=function(e){return e},y=i.a.forwardRef;"undefined"===typeof y&&(y=_);y((function(e,t){var a=e["aria-current"],r=void 0===a?"page":a,c=e.activeClassName,l=void 0===c?"active":c,v=e.activeStyle,d=e.className,h=e.exact,b=e.isActive,E=e.location,g=e.sensitive,C=e.strict,N=e.style,j=e.to,O=e.innerRef,w=Object(o.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return i.a.createElement(n.e.Consumer,null,(function(e){e||Object(u.a)(!1);var a=E||e.location,c=f(m(j,a),a),o=c.pathname,k=o&&o.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),I=k?Object(n.f)(a.pathname,{path:k,exact:h,sensitive:g,strict:C}):null,S=!!(b?b(I,a):I),D=S?function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return e})).join(" ")}(d,l):d,R=S?Object(s.a)({},N,{},v):N,x=Object(s.a)({"aria-current":S&&r||null,className:D,style:R,to:c},w);return _!==y?x.ref=t||O:x.innerRef=O,i.a.createElement(p,x)}))}))},65:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(39);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(s){r=!0,c=s}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},72:function(e,t,a){e.exports=a.p+"static/media/user_avatar.c3631c65.png"},89:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(65),i=a(96),l=a.n(i),s=r.a.memo((function(e){var t=r.a.useState(0),a=Object(c.a)(t,2),n=a[0],i=a[1],s=e.newMessage&&(e.newMessage.chat?e.newMessage.chat._id:null);return r.a.useEffect((function(){e.newMessage&&s===e.chatId&&e.chatId!==e.activeChatId&&i(n+1),e.chatId===e.activeChatId&&i(0)}),[e.newMessage,e.activeChatId]),r.a.createElement(r.a.Fragment,null,n>0&&r.a.createElement("div",{className:l.a.counter},n))})),o=a(97),u=a.n(o);t.a=r.a.memo((function(e){return r.a.useEffect((function(){localStorage.getItem("authToken")}),[]),r.a.createElement("div",{className:u.a.user,onClick:e.onClick},r.a.createElement("img",{src:e.avatarSrc,alt:"avatar",className:u.a.userImg}),r.a.createElement("div",{className:u.a.userDetails},r.a.createElement("p",{className:u.a.useDetailsName},e.name)),r.a.createElement(s,{chatId:e.chatId,newMessage:e.newMessage,activeChatId:e.activeChatId}))}))},96:function(e,t,a){e.exports={counter:"style_counter__1moC1"}},97:function(e,t,a){e.exports={user:"style_user__2v5VR",userImg:"style_userImg__1CkCR",userDetails:"style_userDetails__wkzC-",userDetailsName:"style_userDetailsName__2_mEK"}}}]);
//# sourceMappingURL=5.8265ac49.chunk.js.map