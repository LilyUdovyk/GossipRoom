{"version":3,"sources":["components/Profile/style.module.css","components/ButtonWithPopup/style.module.css","components/Sidebar/style.module.css","components/Main/style.module.css","components/Empty/style.module.css","components/Header/style.module.css","components/ButtonWithChatDetails/style.module.css","components/AttachmentLink/style.module.css","components/FormattedMessage/style.module.css","components/ForwardingBlock/style.module.css","components/MessageMenu/style.module.css","components/Chat/style.module.css","components/ButtonWithEmoji/style.module.css","components/ButtonWithFileUpload/style.module.css","components/OriginalMessageBlock/style.module.css","components/MessageInput/style.module.css","components/ChatWindow/style.module.css","components/ButtonWithPopup/index.tsx","components/Sidebar/index.tsx","components/Empty/index.tsx","components/ButtonWithChatDetails/index.tsx","components/Header/index.tsx","components/AttachmentLink/index.tsx","components/FormattedMessage/index.tsx","components/ForwardingBlock/index.tsx","components/MessageMenu/index.tsx","components/Chat/index.tsx","components/ButtonWithEmoji/index.tsx","components/ButtonWithFileUpload/index.tsx","components/OriginalMessageBlock/index.tsx","components/MessageInput/index.tsx","components/ChatWindow/index.tsx","components/Main/index.tsx","components/Profile/index.tsx","img/user_avatar.png","components/NewMessageCounter/index.tsx","components/User/index.tsx","components/NewMessageCounter/style.module.css","components/User/style.module.css","img/chat_avatar.png"],"names":["module","exports","connect","state","nick","user","userData","login","avatar","url","userAvatar","dispatch","bindActionCreators","logout","authActions","React","memo","props","useState","isOpenedPopup","setIsOpenedPopup","myRef","useRef","closePopup","useCallback","event","target","Element","current","contains","useEffect","document","addEventListener","removeEventListener","className","style","buttonWithPopup","onClick","navOpener","icon","ref","popup","popupHeader","src","navSidebar","navList","navItem","to","activeUserId","_id","contacts","contactsData","chats","activeChatId","chat","chatSuccessData","activeChat","newMessage","message","messageData","getContacts","contactsActions","request","getUser","userActions","getActiveChat","chatActions","addChat","sidebarView","setSidebarView","localStorage","getItem","getDetailsOfChat","details","members","length","name","title","chatAvatar","member","find","nameFromMember","memberAvatar","checkMemberInChats","contactId","contactsChats","map","forEach","push","sidebar","buttonBlock","navButton","User","key","chatId","avatarSrc","contact","empty","emptyName","alt","emptyInfo","activeChatName","isOpenedChatDetails","setIsOpenedChatDetails","closeChatDetails","buttonWithChatDetails","chatDetails","chatDetailsHeader","getAvatarOfChat","header","headerName","href","attachmentLink","size","fileIcon","text","videoArray","match","videoId","width","frameBorder","allow","allowFullScreen","encrypted-media","picture-in-picture","media","mediaAttachment","attachment","type","originalFileName","controls","includes","urls","getUrls","parsedUrls","Array","from","idx","parseURLs","originalMessage","savedMessage","isForward","forwardMessage","messageActions","saveOriginalMessage","closeForwardBlock","deleteOriginalMessage","isReply","groupTitleFromMember","forwardingContainer","containerHeader","containerTitle","originalMessageId","isVisibleMenu","setIsVisibleMenu","closeMessageMenu","classnames","messageMenu","invisible","menuList","menuItem","messages","mediaUrl","fileData","chatsRef","scrollToBottom","scrollTop","scrollHeight","isUserMsg","owner","replyTo","replyBlock","forwarded","forwardedBlock","timeBlock","moment","createdAt","format","isOpenedEmoji","setIsOpenedEmoji","closeEmoji","buttonWithEmoji","button","emojiBlock","set","onSelect","addEmoji","fileId","uploadFile","mediaActions","sendMessage","isOpenedFileUpload","setIsOpenedFileUpload","fileMessage","setFileMessage","myFormRef","fileAttachmentRef","closeFileUpload","buttonWithFileUpload","paperclipButton","dialogContainer","dialogHeader","dialogForm","method","action","encType","id","onSubmit","e","mediaId","onChange","form","dialogLabel","htmlFor","dialogInput","autoFocus","value","placeholder","submitBtn","originalMessageBlock","replyToMessage","setText","messageBlock","emoji","native","preventDefault","trim","messageForm","messageInput","chatWindow","main","onMessage","socket","io","emit","authToken","on","data","console","log","error","profile","counter","setCounter","chatIdWithNewMessage","userImg","userDetails","useDetailsName"],"mappings":"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","file":"static/js/4.0106be2e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"style_profile__2a_cU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonWithPopup\":\"style_buttonWithPopup__1lQAQ\",\"navOpener\":\"style_navOpener__3Hw_I\",\"popup\":\"style_popup__u9k-3\",\"popupHeader\":\"style_popupHeader__2ZHlh\",\"navSidebar\":\"style_navSidebar__3o8Bs\",\"navList\":\"style_navList__1QP6Z\",\"navItem\":\"style_navItem__1zHpi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"style_sidebar__3J9v9\",\"buttonBlock\":\"style_buttonBlock__3eLO2\",\"navButton\":\"style_navButton__2lPuw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__F82O7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"empty\":\"style_empty__1X47t\",\"emptyName\":\"style_emptyName__2XU3c\",\"emptyInfo\":\"style_emptyInfo__R38MY\",\"avatar\":\"style_avatar__UQFNR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__MlSQ_\",\"headerName\":\"style_headerName__qUa0b\",\"settingsButton\":\"style_settingsButton__29FvD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonWithChatDetails\":\"style_buttonWithChatDetails__3XgXd\",\"navOpener\":\"style_navOpener__15gIU\",\"chatDetails\":\"style_chatDetails__2vnMD\",\"chatDetailsHeader\":\"style_chatDetailsHeader__16vpH\",\"navSidebar\":\"style_navSidebar__fvfWt\",\"navList\":\"style_navList__1aX_5\",\"navItem\":\"style_navItem__3Qxgo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"attachmentLink\":\"style_attachmentLink__DNDkC\",\"fileIcon\":\"style_fileIcon__1WFEO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mediaAttachment\":\"style_mediaAttachment__3QnPn\",\"attachment\":\"style_attachment__1OkB3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forwardingContainer\":\"style_forwardingContainer__5s0m0\",\"containerHeader\":\"style_containerHeader__1xJtM\",\"containerTitle\":\"style_containerTitle__3_Ko8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageMenu\":\"style_messageMenu__pJRDf\",\"invisible\":\"style_invisible__1LjwZ\",\"menuList\":\"style_menuList__AcjpA\",\"menuItem\":\"style_menuItem__8d5iJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chats\":\"style_chats__jiJor\",\"chat\":\"style_chat__15hmj\",\"isUserMsg\":\"style_isUserMsg__23Qao\",\"replyBlock\":\"style_replyBlock__17Q2S\",\"owner\":\"style_owner__bGB4C\",\"timeBlock\":\"style_timeBlock__3B-5_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonWithEmoji\":\"style_buttonWithEmoji__1MOip\",\"emojiBlock\":\"style_emojiBlock__3BsgC\",\"button\":\"style_button__3YROV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paperclipButton\":\"style_paperclipButton__HjiF1\",\"uploadButton\":\"style_uploadButton__2q1Mt\",\"dialogContainer\":\"style_dialogContainer__HF7Tf\",\"dialogHeader\":\"style_dialogHeader__OE5dX\",\"dialogForm\":\"style_dialogForm__3EKHg\",\"dialogLabel\":\"style_dialogLabel__3UVsc\",\"dialogInput\":\"style_dialogInput__bH3wN\",\"submitBtn\":\"style_submitBtn__3REnT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"originalMessageBlock\":\"style_originalMessageBlock__2t3vV\",\"originalMessage\":\"style_originalMessage__200am\",\"owner\":\"style_owner__29svV\",\"deleteOriginalMessage\":\"style_deleteOriginalMessage__3eBEB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageBlock\":\"style_messageBlock__3YrA3\",\"messageForm\":\"style_messageForm__3Mcuz\",\"messageInput\":\"style_messageInput__2lCn9\",\"button\":\"style_button__3Jpgk\",\"ButtonWithEmoji\":\"style_ButtonWithEmoji__2Pk_-\",\"buttonBlock\":\"style_buttonBlock__g4UAK\",\"uploadBtnWrapper\":\"style_uploadBtnWrapper__bhQkQ\",\"uploadInput\":\"style_uploadInput__2F-YU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatWindow\":\"style_chatWindow__14ABs\"};","import React from \"react\";\r\nimport { bindActionCreators, Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\r\nimport * as authActions from \"../../store/auth/actions\";\r\n\r\nimport style from './style.module.css'\r\nimport userAvatar from '../../img/user_avatar.png'\r\n\r\nconst mapStateToProps = (state: IRootState) =>\r\n ({\r\n  nick: state.user.userData.nick,\r\n  login: state.user.userData.login,\r\n  avatar: state.user.userData.avatar ? `http://chat.fs.a-level.com.ua/${state.user.userData.avatar.url}` : userAvatar,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\r\n  bindActionCreators(\r\n    {\r\n      logout: authActions.logout,\r\n    },\r\n    dispatch\r\n  );\r\n\r\ntype ButtonWithPopupProps = ReturnType<typeof mapStateToProps> &\r\n  ReturnType<typeof mapDispatchToProps>\r\n\r\nconst ButtonWithPopup: React.FC<ButtonWithPopupProps> = props => {  \r\n\r\n  const [isOpenedPopup, setIsOpenedPopup] = React.useState(false);\r\n\r\n  const myRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  const closePopup = React.useCallback(\r\n    (event: MouseEvent) => {\r\n      if (!(event.target instanceof Element)) {\r\n        return;\r\n      }\r\n      if (myRef.current && !myRef.current.contains(event.target)) {\r\n        setIsOpenedPopup(false);\r\n      }\r\n    },\r\n    [setIsOpenedPopup]\r\n  )\r\n\r\n  React.useEffect(() => {\r\n    if (isOpenedPopup) {\r\n      document.addEventListener(\"click\", closePopup);\r\n    } else {\r\n      document.removeEventListener(\"click\", closePopup);\r\n    }\r\n  }, [isOpenedPopup])\r\n\r\n  const togglePopup = () => {\r\n    setIsOpenedPopup(!isOpenedPopup)\r\n  }\r\n\r\n  const logoutHandler = () => {\r\n    props.logout()\r\n  }\r\n\r\n  return (\r\n    <div className={style.buttonWithPopup}>\r\n      <button onClick={togglePopup} className={style.navOpener}>\r\n        <FontAwesomeIcon icon=\"bars\" />\r\n      </button>\r\n      {isOpenedPopup &&\r\n        <div ref={myRef} className={style.popup}>\r\n          <div className={style.popupHeader}>\r\n            <img src={props.avatar} />\r\n            <p>{ props.nick || props.login}</p>\r\n          </div>\r\n          <nav className={style.navSidebar}>\r\n            <ul className={style.navList}>\r\n              <li\r\n                className={style.navItem}\r\n              >\r\n                <Link to='/new-group'>\r\n                  <FontAwesomeIcon icon=\"comments\" />\r\n                  New group\r\n                </Link>\r\n              </li>\r\n              <li\r\n                className={style.navItem}\r\n              >\r\n                <Link to='/user-settings'>\r\n                  <FontAwesomeIcon icon=\"cogs\" />\r\n                  Settings\r\n                </Link>\r\n              </li>\r\n              <li \r\n                className={style.navItem}\r\n                onClick={() => logoutHandler()}\r\n              >\r\n                <FontAwesomeIcon icon=\"sign-out-alt\" />\r\n                Exit\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(ButtonWithPopup));","import React, { useRef, useState } from 'react';\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as userActions from \"../../store/user/actions\";\nimport * as contactsActions from \"../../store/contacts/actions\";\nimport * as chatActions from \"../../store/chat/actions\";\nimport { UserData } from '../../store/user/types'\nimport { ChatData } from '../../store/chat/types'\n\nimport User from \"../User\";\nimport userAvatar from '../../img/user_avatar.png'\nimport chatAvatar from '../../img/chat_avatar.png'\nimport ButtonWithPopup from '../ButtonWithPopup';\nimport style from './style.module.css'\n\nconst mapStateToProps = (state: IRootState) => ({\n\tactiveUserId: state.user.userData._id,\n\tcontacts: state.contacts.contactsData,\n\tchats: state.user.userData.chats,\n\tactiveChatId: state.chat.chatSuccessData.activeChat._id,\n\tnewMessage: state.message.messageData\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n\tbindActionCreators(\n\t\t{\n\t\t\tgetContacts: contactsActions.getContacts.request,\n\t\t\tgetUser: userActions.getUser.request,\n\t\t\tgetActiveChat: chatActions.getActiveChat.request,\n\t\t\taddChat: chatActions.addChat.request\n\t\t},\n\t\tdispatch\n\t);\n\ntype SidebarProps = ReturnType<typeof mapStateToProps> &\n\tReturnType<typeof mapDispatchToProps>;\n\ntype SidebarView = \"contacts\" | \"chats\"\n\nconst Sidebar: React.FC<SidebarProps> = props => {\n\n\tconst [sidebarView, setSidebarView] = React.useState<SidebarView>(\"chats\")\n\n\tReact.useEffect(() => {\n\t\tconst authToken = localStorage.getItem('authToken')\n\t\tif (!authToken) {\n\t\t\treturn\n\t\t}\n\t\tprops.getUser()\n\t\t// console.log(\"props.chats,props.chats.length\", props.chats, props.chats.length)\n\t\t// if (props.chats && props.chats.length) {\n\t\t// \tsetSidebarView(\"contacts\")\n\t\t// }\n\t\tprops.getContacts()\n\t}, [])\n\n\tconst getDetailsOfChat = (chat: ChatData) => {\n\t\tlet details\n\t\tif (chat.members.length === 1) {\n\t\t\tdetails = {\n\t\t\t\tname: chat.title || \"You\",\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : userAvatar\n\t\t\t}\n\t\t} else if (chat.members.length > 2) {\n\t\t\tdetails = {\n\t\t\t\tname: chat.title || \"Group\",\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : chatAvatar\n\t\t\t}\n\t\t} else {\n\t\t\tlet member = chat.members.find(member => {\n\t\t\t\treturn member._id !== props.activeUserId\n\t\t\t})\n\t\t\tlet nameFromMember = member && (member.nick || member.login)\n\t\t\tlet memberAvatar = member && member.avatar && `http://chat.fs.a-level.com.ua/${member.avatar.url}`\n\t\t\tdetails = {\n\t\t\t\tname: chat.title || nameFromMember,\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : (memberAvatar || userAvatar)\n\t\t\t}\n\t\t}\n\t\treturn details\n\t}\n\n\tconst checkMemberInChats = (contactId: string) => {\n\t\tlet contactsChats: string[] = []\n\t\tprops.chats.map(chat => {\n\t\t\tif (chat.members.length === 2) {\n\t\t\t\tchat.members.forEach(member => {\n\t\t\t\t\tif (member._id === contactId) {\n\t\t\t\t\t\tcontactsChats.push(chat._id)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\treturn contactsChats\n\t}\n\n\tconst activeChatHandler = (chatId: string) => {\n\t\tprops.getActiveChat(chatId)\n\t};\n\n\tconst addChatHandler = (contactId: string) => {\n\t\tif (checkMemberInChats(contactId).length) {\n\t\t\tprops.getActiveChat(checkMemberInChats(contactId)[0])\n\t\t} else {\n\t\t\tprops.addChat(contactId)\n\t\t}\n\t};\n\n\tconst renderSidebarContent = () => {\n\t\t\tif (sidebarView === \"chats\") {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{ props.chats.map(chat => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<User\n\t\t\t\t\t\t\t\tkey={chat._id}\n\t\t\t\t\t\t\t\tchatId={chat._id}\n\t\t\t\t\t\t\t\tname={getDetailsOfChat(chat).name}\n\t\t\t\t\t\t\t\tavatarSrc={getDetailsOfChat(chat).avatar}\n\t\t\t\t\t\t\t\tnewMessage={props.newMessage}\n\t\t\t\t\t\t\t\tactiveChatId={props.activeChatId}\n\t\t\t\t\t\t\t\tonClick={() => activeChatHandler(chat._id)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{ props.contacts.map((contact: UserData) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<User \n\t\t\t\t\t\t\t\tkey={contact._id}\n\t\t\t\t\t\t\t\tname={contact.nick || contact.login}\n\t\t\t\t\t\t\t\tavatarSrc={contact.avatar ? `http://chat.fs.a-level.com.ua/${contact.avatar.url}` : userAvatar }\n\t\t\t\t\t\t\t\tonClick={() => addChatHandler(contact._id)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</>\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<aside className={style.sidebar}>\n\t\t\t<div className={style.buttonBlock}>\n\t\t\t\t<ButtonWithPopup />\n\t\t\t\t{ sidebarView === \"chats\" && \n\t\t\t\t\t<button \n\t\t\t\t\t\tclassName={style.navButton}\n\t\t\t\t\t\ttitle=\"Contacts\"\n\t\t\t\t\t\tonClick={() => setSidebarView(\"contacts\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FontAwesomeIcon icon=\"user-friends\" />\n\t\t\t\t\t</button>\n\t\t\t\t}\n\t\t\t\t{ sidebarView === \"contacts\" &&\n\t\t\t\t\t<button \n\t\t\t\t\t\tclassName={style.navButton}\n\t\t\t\t\t\ttitle=\"Chats\"\n\t\t\t\t\t\tonClick={() => setSidebarView(\"chats\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FontAwesomeIcon icon=\"comments\" />\n\t\t\t\t\t</button>\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t{renderSidebarContent()}\n\t\t</aside>\n\t)\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Sidebar));","import React from \"react\";\n\nimport style from './style.module.css'\n\ninterface Props {\n  name: string,\n  avatarSrc: string\n}\n\nconst Empty = (props: Props) => {\n  return (\n    <div className={style.empty}>\n      <h1 className={style.emptyName}>Welcome, {props.name} </h1>\n      <img src={props.avatarSrc} alt={props.name} className={style.avatar} />\n      <p className={style.emptyInfo}>\n        Please select a chat to start messaging\n      </p>\n    </div>\n  );\n};\nexport default React.memo(Empty);","import React from \"react\";\r\nimport { bindActionCreators, Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\r\nimport * as authActions from \"../../store/auth/actions\";\r\nimport { ChatData } from '../../store/chat/types'\r\n\r\nimport style from './style.module.css'\r\nimport userAvatar from '../../img/user_avatar.png'\r\nimport chatAvatar from '../../img/chat_avatar.png'\r\n\r\nconst mapStateToProps = (state: IRootState) =>\r\n ({\r\n  activeChat: state.chat.chatSuccessData.activeChat,\r\n  activeChatName: state.chat.chatSuccessData.activeChatName,\r\n  activeUserId: state.user.userData._id,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\r\n  bindActionCreators(\r\n    {\r\n      logout: authActions.logout,\r\n    },\r\n    dispatch\r\n  );\r\n\r\ntype ButtonWithChatDetailsProps = ReturnType<typeof mapStateToProps> &\r\n  ReturnType<typeof mapDispatchToProps>\r\n\r\nconst  ButtonWithChatDetails: React.FC<ButtonWithChatDetailsProps> = props => {  \r\n\r\n  const [isOpenedChatDetails, setIsOpenedChatDetails] = React.useState(false);\r\n\r\n  const myRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  const closeChatDetails = React.useCallback(\r\n    (event: MouseEvent) => {\r\n      if (!(event.target instanceof Element)) {\r\n        return;\r\n      }\r\n      if (myRef.current && !myRef.current.contains(event.target)) {\r\n        setIsOpenedChatDetails(false);\r\n      }\r\n    },\r\n    [setIsOpenedChatDetails]\r\n  )\r\n\r\n  React.useEffect(() => {\r\n    if (isOpenedChatDetails) {\r\n      document.addEventListener(\"click\", closeChatDetails);\r\n    } else {\r\n      document.removeEventListener(\"click\", closeChatDetails);\r\n    }\r\n  }, [isOpenedChatDetails])\r\n\r\n  const toggleChatDetails = () => {\r\n    setIsOpenedChatDetails(!isOpenedChatDetails)\r\n  }\r\n\r\n  const getAvatarOfChat = (chat: ChatData) => {\r\n    let avatar\r\n    if (chat.members.length === 1) {\r\n        avatar = chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : userAvatar\r\n    } else if (chat.members.length > 2) {\r\n        avatar = chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : chatAvatar\r\n    } else {\r\n      let member = chat.members.find(member => {\r\n        return member._id !== props.activeUserId\r\n      })\r\n      let memberAvatar = member && member.avatar && `http://chat.fs.a-level.com.ua/${member.avatar.url}`\r\n        avatar = chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : (memberAvatar || userAvatar)\r\n    }\r\n    return avatar\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={style.buttonWithChatDetails}>\r\n      <button onClick={toggleChatDetails} className={style.navOpener}>\r\n      <FontAwesomeIcon icon=\"comment-dots\" />\r\n      </button>\r\n      {isOpenedChatDetails &&\r\n        <div ref={myRef} className={style.chatDetails}>\r\n          <div className={style.chatDetailsHeader}>\r\n            <img src={getAvatarOfChat(props.activeChat)} />\r\n            <p>{ props.activeChatName }</p>\r\n          </div>\r\n          <nav className={style.navSidebar}>\r\n            <ul className={style.navList}>\r\n              <li\r\n                className={style.navItem}\r\n              >\r\n                <Link to='/chat-settings'>\r\n                  <FontAwesomeIcon icon=\"cogs\" />\r\n                  Settings\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(ButtonWithChatDetails));","import React from \"react\";\n\nimport style from './style.module.css'\nimport ButtonWithChatDetails from '../ButtonWithChatDetails'\n\ninterface Props {\n\tactiveChatName: string,\n}\n\nconst Header = (props: Props) => {\n\treturn (\n\t\t<header className={style.header}>\n\t\t\t<h1 className={style.headerName}>{props.activeChatName}</h1>\n\t\t\t<ButtonWithChatDetails />\n\t\t</header>\n\t);\n}\nexport default React.memo(Header);","import React from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\"\n\nimport style from \"./style.module.css\";\n\ninterface Props {\n    url: string,\n    icon: IconProp,\n    text: string\n}\n\nconst AttachmentLink = (props: Props) => {\n    return (\n        <a href={`http://chat.fs.a-level.com.ua/${props.url}`}\n            className={style.attachmentLink}\n        >\n            <FontAwesomeIcon icon={props.icon} size=\"3x\" className={style.fileIcon} />\n            <p>\n                {props.text}\n            </p>\n        </a>\n    );\n};\nexport default React.memo(AttachmentLink);","import React from \"react\";\nimport Iframe from 'react-iframe'\nimport MicrolinkCard from '@microlink/react';\nimport Linkify from 'linkifyjs/react';\nimport getUrls from 'get-urls';\n\nimport { MessageData, ReplyData } from \"../../store/message/types\";\nimport AttachmentLink from \"../AttachmentLink\"\nimport style from\"./style.module.css\";\n\ninterface Props {\n\tmessage: MessageData | ReplyData | null\n}\n  \nconst parseURLs = (text: string) => {\n    const urls = getUrls(text);\n    const parsedUrls = Array.from(urls).map((url, idx: number) => {\n        return (\n            <MicrolinkCard url={url} key={idx}/>\n        )\n    })\n    return (\n        <>\n            {parsedUrls}\n        </>\n    )\n}\n\nconst FormattedMessage = (props: Props) => {\n    let videoArray =  props.message && props.message.text && props.message.text.match(/http(?:s?):\\/\\/(?:www\\.)?youtu(?:be\\.com\\/watch\\?v=|\\.be\\/)([\\w\\-\\_]*)(&(amp;)?‌ [\\w\\?‌ =]*)?/)\n    if (videoArray) {\n      let videoId = videoArray && videoArray[1]\n      return (\n        <>\n          <a href={props.message && props.message.text}>{props.message && props.message.text}</a>\n          <Iframe\n            url={`https://www.youtube.com/embed/${videoId}`}\n            width=\"100%\"\n            frameBorder={0}\n            allow={\"accelerometer\"}\n            allowFullScreen\n            encrypted-media\n            picture-in-picture\n          />\n        </>\n      )\n    } else if (props.message && props.message.media) {\n      return (\n        <div className={style.mediaAttachment}>\n          <p>{props.message.text}</p>\n          {props.message.media.map(attachment => {\n            if (attachment.type === \"image/png\" || attachment.type === \"image/jpeg\") {\n              return (\n                <img\n                  key={attachment._id}\n                  className={style.attachment}\n                  src={`http://chat.fs.a-level.com.ua/${attachment.url}`}\n                  alt=\"Attachment\"\n                />\n              )\n            } else if (attachment.type === \"video/mp4\" \n                  || attachment.type === \"video/webm\" \n                  || attachment.type === \"video/ogg\") {\n              return (\n                <>\n                  <AttachmentLink\n                    url={attachment.url}\n                    icon={\"file-video\"}\n                    text={attachment.originalFileName}\n                  />\n                  <video\n                    key={attachment._id}\n                    className={style.attachment}\n                    controls>\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"video/mp4\" />\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"video/webm\" />\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"video/ogg\" />\n                    <p>Your browser doesn't support HTML5 video. Download this file for review.</p>\n                  </video>\n                </>\n              )\n            } else if (attachment.type === \"audio/mp3\" || attachment.type === \"audio/ogg\") {\n              return (\n                <>\n                  <AttachmentLink\n                    url={attachment.url}\n                    icon={\"file-audio\"}\n                    text={attachment.originalFileName}\n                  />\n                  <audio\n                    controls\n                    key={attachment._id}\n                    className={style.attachment}\n                  >\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"audio/mp3\" />\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"audio/ogg\" />\n                    <p>Your browser doesn't support HTML5 audio. Download this file for review.</p>\n                  </audio>\n                </>\n              )\n            } else if (attachment.type === \"application/zip\") {\n              return (\n                <AttachmentLink\n                  url={attachment.url}\n                  icon={\"file-archive\"}\n                  text={attachment.originalFileName}\n                />\n              )\n            } else if (attachment.type && (attachment.type.includes(\"application\") || attachment.type.includes(\"text\"))) {\n              return (\n                <AttachmentLink\n                  url={attachment.url}\n                  icon={\"file-alt\"}\n                  text={attachment.originalFileName}\n                />\n              )\n            } else {\n              return (\n                <AttachmentLink\n                  url={attachment.url}\n                  icon={\"file\"}\n                  text={attachment.originalFileName}\n                />\n              )\n            }\n          })}\n        </div>\n      )\n    } else {\n        return (\n            <>\n              <p>{ props.message && props.message.text }</p>\n              { props.message && props.message.text && \n                <Linkify>{ parseURLs(props.message.text) }</Linkify> \n              }\n            </>\n        )\n    }\n}\nexport default React.memo(FormattedMessage);","import React from 'react'\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as chatActions from \"../../store/chat/actions\";\nimport * as messageActions from \"../../store/message/actions\";\nimport { ChatData } from '../../store/chat/types'\n\nimport style from './style.module.css'\nimport User from \"../User\";\nimport userAvatar from '../../img/user_avatar.png'\nimport chatAvatar from '../../img/chat_avatar.png'\n\nconst mapStateToProps = (state: IRootState) => ({\n  chats: state.user.userData.chats,\n  activeUserId: state.user.userData._id,\n  originalMessage: state.message.savedMessage.originalMessage,\n  isForward: state.message.savedMessage.isForward\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      getActiveChat: chatActions.getActiveChat.request,\n      forwardMessage: messageActions.forwardMessage.request,\n      saveOriginalMessage: messageActions.saveOriginalMessage,\n    },\n    dispatch\n  );\n\ntype ForwardingBlockProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst ForwardingBlock: React.FC<ForwardingBlockProps> = props => {\n\n  const myRef = React.useRef<HTMLDivElement>(null);\n  \n  React.useEffect(() => {\n\t\tif (props.isForward) {\n      document.addEventListener(\"click\", closeForwardBlock);\n    } else {\n      document.removeEventListener(\"click\", closeForwardBlock);\n    }\n  }, [props.isForward])\n \n  const closeForwardBlock = (event: MouseEvent) => {\n    if (!(event.target instanceof Element)) {\n      return;\n    }\n    if (myRef.current && !(myRef.current.contains(event.target))) {\n      deleteOriginalMessage()\n    }\n  };\n\n  const deleteOriginalMessage = () => {\n    props.saveOriginalMessage({originalMessage: null, isReply: false, isForward: false})\n  }\n\n  const forwardMessage = (chatId: string) => {\n    props.getActiveChat(chatId)\n    if (props.originalMessage){\n      props.forwardMessage({ activeChatId: chatId, originalMessageId: props.originalMessage._id })\n    }\n  }\n\n  const getDetailsOfChat = (chat: ChatData) => {\n\t\tif (chat.members.length === 1) {\n\t\t\tlet details = {\n\t\t\t\tname: \"You\",\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : userAvatar\n\t\t\t}\n\t\t\treturn details\n\t\t} else if (chat.members.length > 2) {\n\t\t\tlet details = {\n\t\t\t\tname: chat.title || \"Group\",\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : chatAvatar\n\t\t\t}\n\t\t\treturn details\n\t\t} else {\n\t\t\tlet member = chat.members.find(member => {\n\t\t\t\treturn member._id !== props.activeUserId\n\t\t\t})\n\t\t\tlet memberAvatar = member && member.avatar && `http://chat.fs.a-level.com.ua/${member.avatar.url}`\n      let groupTitleFromMember = member && (member.nick || member.login)\n      let details = {\n\t\t\t\tname: chat.title ? chat.title : groupTitleFromMember,\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : (memberAvatar || userAvatar)\n\t\t\t}\n\t\t\treturn details\n\t\t}\n  }\n\n  return (\n    <div ref={myRef} className={style.forwardingContainer}>\n      <header className={style.containerHeader}>\n        <h4 className={style.containerTitle}>Choose recipient</h4>\n        <button onClick={() => deleteOriginalMessage()}>\n          <FontAwesomeIcon icon=\"times\" />\n        </button>\n      </header>\n      <div>\n        { props.chats.map(chat => {\n          return (\n            <User\n              key={chat._id}\n              chatId={chat._id}\n              name={getDetailsOfChat(chat).name}\n              avatarSrc={getDetailsOfChat(chat).avatar}\n              onClick={() => forwardMessage(chat._id)}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(ForwardingBlock));","import React from 'react'\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport classnames from 'classnames';\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as messageActions from \"../../store/message/actions\";\n\nimport ForwardingBlock from \"../ForwardingBlock\"\nimport style from './style.module.css'\n\nconst mapStateToProps = (state: IRootState) => ({\n  originalMessage: state.message.savedMessage.originalMessage,\n  isForward: state.message.savedMessage.isForward,\n  isReply: state.message.savedMessage.isReply,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      forwardMessage: messageActions.forwardMessage.request,\n      saveOriginalMessage: messageActions.saveOriginalMessage,\n    },\n    dispatch\n  );\n\ntype MessageMenuProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst MessageMenu: React.FC<MessageMenuProps> = props => {\n\n  const [isVisibleMenu, setIsVisibleMenu] = React.useState(true);\n\n  const myRef = React.useRef<HTMLDivElement>(null);\n  \n  React.useEffect(() => {\n\t\tif (props.originalMessage) {\n      document.addEventListener(\"click\", closeMessageMenu);\n    } else {\n      document.removeEventListener(\"click\", closeMessageMenu);\n    }\n  }, [props.originalMessage])\n\n  const closeMessageMenu = React.useCallback(\n    (event: MouseEvent) => {\n      if (!(event.target instanceof Element)) {\n        return;\n      }\n      if (myRef.current && !myRef.current.contains(event.target)) {\n        setIsVisibleMenu(false);\n      }\n    },\n    [setIsVisibleMenu]\n  )\n  \n  const replyToMessage = () => {\n    props.saveOriginalMessage({originalMessage: props.originalMessage, isReply: true})\n    setIsVisibleMenu(false)\n  }\n\n  const forwardMessage = () => {\n    props.saveOriginalMessage({originalMessage: props.originalMessage, isForward: true})\n  }\n\n  return (\n    <>\n      <div ref={myRef}\n        className={classnames(style.messageMenu, {\n          [style.invisible]: !isVisibleMenu\n        })} \n      >\n        <ul className={style.menuList}>\n          <li \n            className={style.menuItem}\n            onClick = { () => replyToMessage()}\n          >\n            <FontAwesomeIcon icon=\"reply\" />\n            Reply\n          </li>\n          <li \n            className={style.menuItem}\n            onClick = { () => forwardMessage()}\n          >\n            <FontAwesomeIcon icon=\"share\" />\n            Forward message\n          </li>\n        </ul>\n      </div>\n      { props.isForward &&\n        <ForwardingBlock />\n      }\n    </>\n  )\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(MessageMenu));","import React, {useRef} from \"react\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport classnames from 'classnames';\nimport moment from 'moment';\n\nimport { IRootState, IRootAction } from \"../../store/rootReducer\";\nimport * as messageActions from \"../../store/message/actions\";\nimport { MessageData } from \"../../store/message/types\";\nimport FormattedMessage from \"../FormattedMessage\"\nimport MessageMenu from \"../MessageMenu\"\nimport style from './style.module.css'\n\nconst mapStateToProps = (state: IRootState) => ({\n  activeUserId: state.user.userData._id,\n  nick: state.user.userData.nick,\n  activeChat: state.chat.chatSuccessData.activeChat,\n  activeChatName: state.chat.chatSuccessData.activeChatName,\n  messages: state.chat.chatSuccessData.activeChat ? state.chat.chatSuccessData.activeChat.messages : [],\n  media: state.message.messageData.media,\n  mediaUrl: state.media.fileData.url,\n  originalMessage: state.message.savedMessage.originalMessage,\n  isForward: state.message.savedMessage.isForward\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      saveOriginalMessage: messageActions.saveOriginalMessage,\n    },\n    dispatch\n  );\n\ntype ChatProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst Chat: React.FC<ChatProps> = props => {  \n\n  const chatsRef = useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n\t\tscrollToBottom();\n  }, [])\n  \n  React.useEffect(() => {\n\t\tscrollToBottom();\n\t}, [props.messages])\n\n  const scrollToBottom = () => {\n    if (chatsRef.current) {\n      chatsRef.current.scrollTop = chatsRef.current.scrollHeight;\n    }\n  }\n\n  const isUserMsg = (message: MessageData) => {\n    return message.owner._id === props.activeUserId ? true : false\n  }\n\n  const saveOriginalMessage = (message: MessageData) => {\n    props.saveOriginalMessage({originalMessage: message, isReply: false, isForward: false})\n  }\n\n  return (\n    <div className={style.chats} ref={chatsRef}>\n      { props.messages && props.messages.map((message: MessageData) => (\n        <div \n          key={message._id}\n          className={classnames(style.chat, {\n            [style.isUserMsg]: isUserMsg(message)\n          })}\n          onClick = { () => saveOriginalMessage(message) }\n        >\n          { message.replyTo &&\n            <div className={style.replyBlock}>\n              <p className={style.owner}>\n                { message.replyTo.owner.nick || message.replyTo.owner.login }\n              </p>\n                <FormattedMessage message={message.replyTo} />\n            </div>\n          }\n          { message.forwarded &&\n            <div className={style.forwardedBlock}>\n              <p className={style.owner}>\n                Forwarded from { message.forwarded.owner.nick || message.forwarded.owner.login }\n              </p>\n              <FormattedMessage message={message.forwarded} />\n            </div>\n          } \n          { props.activeChat.title && !isUserMsg(message) &&\n            <p className={style.owner}>\n              { message.owner.nick || message.owner.login }\n            </p>\n          }\n          <FormattedMessage message={message} />\n          <time className={style.timeBlock}>\n            {moment(+message.createdAt).format('HH:mm  DD.MM')}\n          </time>\n        </div>\n      ))}\n      { props.originalMessage && \n        <MessageMenu />\n      }\n    </div>\n  );\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Chat));","import React from 'react'\nimport 'emoji-mart/css/emoji-mart.css'\nimport { Picker } from 'emoji-mart'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { EmojiData } from \"emoji-mart\";\n\nimport style from './style.module.css'\ninterface Props {\n  addEmoji: ((emoji: EmojiData) => void) | undefined\n}\n\nconst ButtonWithEmoji: React.FC<Props> = (props) => {  \n\n  const [isOpenedEmoji, setIsOpenedEmoji] = React.useState(false);\n\n  const myRef = React.useRef<HTMLDivElement>(null);\n\n  const closeEmoji = React.useCallback(\n    (event: MouseEvent) => {\n      if (!(event.target instanceof Element)) {\n        return;\n      }\n      if (myRef.current && !myRef.current.contains(event.target)) {\n        setIsOpenedEmoji(false);\n      }\n    },\n    [setIsOpenedEmoji]\n  )\n\n  React.useEffect(() => {\n    if (isOpenedEmoji) {\n      document.addEventListener(\"click\", closeEmoji);\n    } else {\n      document.removeEventListener(\"click\", closeEmoji);\n    }\n  }, [isOpenedEmoji])\n\n  const toggleEmoji = () => {\n    setIsOpenedEmoji(!isOpenedEmoji)\n  }\n\n  return (\n    <div className={style.buttonWithEmoji}>\n      <button onClick={ toggleEmoji } className={style.button}>\n        <FontAwesomeIcon icon=\"smile\" />\n      </button>\n      { isOpenedEmoji && \n        <div ref={myRef} className={style.emojiBlock}>\n          <Picker set='google' onSelect={props.addEmoji} />\n        </div>\n      }\n    </div>\n  )\n}\nexport default React.memo(ButtonWithEmoji);\n","import React from 'react'\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as messageActions from \"../../store/message/actions\";\nimport * as mediaActions from \"../../store/media/actions\";\n\nimport style from './style.module.css'\n\nconst mapStateToProps = (state: IRootState) => ({\n  activeChatId: state.chat.chatSuccessData.activeChat._id,\n  fileId: state.media.fileData._id\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      uploadFile: mediaActions.uploadFile.request,\n      sendMessage: messageActions.sendMessage.request\n    },\n    dispatch\n  );\n\ntype ButtonWithFileUploadProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst ButtonWithFileUpload: React.FC<ButtonWithFileUploadProps> = props => {\n\n  const [isOpenedFileUpload, setIsOpenedFileUpload] = React.useState(false);\n  const [fileMessage, setFileMessage] = React.useState('');\n\n  const myRef = React.useRef<HTMLDivElement>(null);\n  const myFormRef = React.useRef<HTMLFormElement>(null)\n  const fileAttachmentRef = React.useRef<HTMLInputElement>(null);\n\n  const closeFileUpload = React.useCallback(\n    (event: MouseEvent) => {\n      if (!(event.target instanceof Element)) {\n        return;\n      }\n      if (myRef.current && !myRef.current.contains(event.target)) {\n        setIsOpenedFileUpload(false);\n      }\n    },\n    [setIsOpenedFileUpload]\n  )\n\n  React.useEffect(() => {\n    if (isOpenedFileUpload) {\n      document.addEventListener(\"click\", closeFileUpload);\n    } else {\n      document.removeEventListener(\"click\", closeFileUpload);\n    }\n  }, [isOpenedFileUpload])\n\n  const toggleFileUpload = () => {\n    setIsOpenedFileUpload(!isOpenedFileUpload)\n  }\n\n  const uploadFile = (form: HTMLFormElement) => {\n    props.uploadFile(form)\n  }\n\n  const sendAttachment = (e: React.FormEvent<HTMLFormElement>) => {\n    if (props.activeChatId) {\n      props.sendMessage({\n        activeChatId: props.activeChatId,\n        text: fileMessage,\n        mediaId: props.fileId\n      })\n    }\n    setIsOpenedFileUpload(false)\n    setFileMessage('')\n  }\n\n  return (\n    <div className={style.buttonWithFileUpload}>\n      <button onClick={toggleFileUpload} className={style.paperclipButton} >\n        <FontAwesomeIcon icon=\"paperclip\" />\n      </button>\n      {isOpenedFileUpload &&\n        <div ref={myRef} className={style.dialogContainer}>\n          <header className={style.dialogHeader}>\n            <h4>Upload a file</h4>\n            <button\n              onClick={() => setIsOpenedFileUpload(false)}\n            >\n              <FontAwesomeIcon icon=\"times\" />\n            </button>\n          </header>\n          <form\n            className={style.dialogForm}\n            ref={myFormRef}\n            method=\"post\"\n            action='/upload'\n            encType=\"multipart/form-data\"\n            id=\"form\"\n            onSubmit={sendAttachment}\n          >\n            <input\n              type=\"file\"\n              name=\"media\"\n              id=\"media\"\n              ref={fileAttachmentRef}\n              onChange={() => { if (myFormRef.current) uploadFile(myFormRef.current) }}\n            />\n            <label className={style.dialogLabel} htmlFor=\"fileMessage\">\n              Add a message about the file\n              </label>\n            <input\n              id=\"fileMessage\"\n              className={style.dialogInput}\n              autoFocus\n              type=\"text\"\n              name=\"fileMessage\"\n              value={fileMessage}\n              onChange={(e) => setFileMessage(e.target.value)}\n              placeholder=\"Write your message\"\n            />\n            <button type=\"submit\" className={style.submitBtn}>\n              Upload\n              </button>\n          </form>\n        </div>\n      }\n    </div>\n  )\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(ButtonWithFileUpload));\n","import React from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { MessageData } from \"../../store/message/types\";\nimport FormattedMessage from \"../FormattedMessage\"\nimport style from\"./style.module.css\";\n\ninterface Props {\n    originalMessage: MessageData | null,\n    deleteOriginalMessage: ((event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void) | undefined\n}\n\nconst OriginalMessageBlock = (props: Props) => {\n    return (\n        <div className={style.originalMessageBlock}>\n            <div className={style.originalMessage}>\n                <p className={style.owner}>\n                    { props.originalMessage && (props.originalMessage.owner.nick || props.originalMessage.owner.login) }\n                </p>\n                <FormattedMessage message={props.originalMessage} />\n                <button \n                    onClick = {props.deleteOriginalMessage}\n                    className={style.deleteOriginalMessage}\n                >\n                    <FontAwesomeIcon icon=\"times\" />\n                </button>\n            </div>\n        </div>\n\t);\n}\nexport default React.memo(OriginalMessageBlock);","import React from \"react\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as messageActions from \"../../store/message/actions\";\n\nimport ButtonWithEmoji from \"../ButtonWithEmoji\"\nimport ButtonWithFileUpload from \"../ButtonWithFileUpload\"\nimport OriginalMessageBlock from \"../OriginalMessageBlock\"\nimport style from './style.module.css'\nimport { EmojiData } from \"emoji-mart\";\n\nconst mapStateToProps = (state: IRootState) => ({\n  activeChatId: state.chat.chatSuccessData.activeChat._id,\n  originalMessage: state.message.savedMessage.originalMessage,\n  isReply: state.message.savedMessage.isReply,\n  isForward: state.message.savedMessage.isForward\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      sendMessage: messageActions.sendMessage.request,\n      replyToMessage: messageActions.replyToMessage.request,\n      forwardMessage: messageActions.forwardMessage.request,\n      saveOriginalMessage: messageActions.saveOriginalMessage,\n    },\n    dispatch\n  );\n\ntype MessageInputProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst MessageInput: React.FC<MessageInputProps> = (props) => {\n  const [text, setText] = React.useState(\"\");\n\n  const deleteOriginalMessage = () => {\n    props.saveOriginalMessage({originalMessage: null, isReply: false, isForward: false})\n  }\n\n  const addEmoji = (emoji: any) => {\n    setText(text + emoji.native)\n  }\n\n  const sendMessageHandler = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    if (text.trim() === '') return;\n    if (props.activeChatId && props.originalMessage && props.isReply) {\n      props.replyToMessage({ activeChatId: props.activeChatId, text, originalMessageId: props.originalMessage._id })\n    } else if (props.activeChatId) {\n      props.sendMessage({ activeChatId: props.activeChatId, text, mediaId: null })\n    }\n    setText(\"\")\n  }\n\n  return (\n    <>\n      { props.isReply &&\n        <OriginalMessageBlock \n          originalMessage={props.originalMessage}\n          deleteOriginalMessage={deleteOriginalMessage}\n        />\n      }\n      <div className={style.messageBlock}>\n        <ButtonWithEmoji addEmoji={addEmoji} />\n        <form action=\"\" onSubmit={sendMessageHandler} className={style.messageForm}>\n          <input\n            className={style.messageInput}\n            placeholder=\"Write your message\"\n            type=\"text\"\n            autoFocus={true}\n            value={text}\n            onChange={e => setText(e.target.value)}\n          />\n          <div className={style.buttonBlock}>\n            <button type=\"submit\" className={style.button} >\n              <FontAwesomeIcon icon=\"paper-plane\" />\n            </button>\n            <ButtonWithFileUpload />\n          </div>\n        </form>\n      </div>\n    </>\n  );\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(MessageInput));","import React from \"react\";\nimport Header from \"../Header\";\n\nimport Chat from \"../Chat\";\nimport MessageInput from \"../MessageInput\";\nimport style from './style.module.css'\n\ninterface Props {\n  name: string,\n}\n\nconst ChatWindow = (props: Props) => {\n  return (\n    <div className={style.chatWindow}>\n      <Header activeChatName = {props.name} />\n      <Chat />\n      <MessageInput />\n    </div>\n  );\n};\n\nexport default React.memo(ChatWindow);","import React from 'react';\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as userActions from \"../../store/user/actions\";\n\nimport style from './style.module.css'\nimport Empty from \"../Empty\";\nimport ChatWindow from \"../ChatWindow\";\nimport userAvatar from '../../img/user_avatar.png'\n\nconst mapStateToProps = (state: IRootState) => ({\n  nick: state.user.userData.nick,\n  login: state.user.userData.login,\n  avatar: state.user.userData.avatar ? `http://chat.fs.a-level.com.ua/${state.user.userData.avatar.url}` : userAvatar,\n\tactiveChatId: state.chat.chatSuccessData.activeChat._id,\n  activeChatName: state.chat.chatSuccessData.activeChatName\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      getUser: userActions.getUser.request,\n    },\n    dispatch\n  );\n\ntype MainProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst Main: React.FC<MainProps> = props => {\n\n  const renderMainPageContent = () => {\n    if (!props.activeChatId) {\n      return (\n        <Empty \n          name={props.nick || props.login}\n          avatarSrc={props.avatar} \n        />\n      )\n    }  else {\n      return (\n        <ChatWindow name={props.activeChatName} />\n      )\n    }\n  }\n\n  return (\n    <main className={style.main}>\n      {renderMainPageContent()}\n    </main>\n  )\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Main));\n","import React from \"react\";\r\nimport { bindActionCreators, Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport io from 'socket.io-client';\r\n\r\nimport { IRootAction } from \"../../store/rootReducer\";\r\nimport * as userActions from \"../../store/user/actions\";\r\nimport * as messageActions from \"../../store/message/actions\";\r\nimport { MessageData } from '../../store/message/types'\r\nimport { DecodedToken } from '../../store/auth/types'\r\n\r\nimport style from './style.module.css'\r\nimport Sidebar from '../Sidebar';\r\nimport Main from \"../Main\";\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\r\n  bindActionCreators(\r\n    {\r\n      getUser: userActions.getUser.request,\r\n      onMessage: messageActions.onMessage,\r\n    },\r\n    dispatch\r\n  );\r\n\r\ntype ProfileProps = ReturnType<typeof mapDispatchToProps>;\r\n\r\nconst Profile: React.FC<ProfileProps> = props => {\r\n\r\n  React.useEffect(() => {\r\n    const authToken = localStorage.getItem('authToken')\r\n    if (!authToken) {\r\n      return\r\n    }\r\n\r\n    const socket = io('http://chat.fs.a-level.com.ua/');\r\n    socket.emit('jwt', localStorage.authToken)\r\n    socket.on('jwt_ok', (data: DecodedToken) => console.log(data))\r\n    socket.on('jwt_fail', (error: string) => console.log(error))\r\n    socket.on('msg', (message: MessageData) => {\r\n      props.onMessage(message)\r\n    })\r\n  },[])\r\n\r\n  return (\r\n    <div className={style.profile}>\r\n      <Sidebar />\r\n      <Main />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect( null, mapDispatchToProps)(React.memo(Profile));\r\n","module.exports = __webpack_public_path__ + \"static/media/user_avatar.c3631c65.png\";","import React from \"react\";\n\nimport { MessageData } from '../../store/message/types'\nimport style from \"./style.module.css\"\n\ninterface Props {\n  chatId?: string,\n  newMessage?: MessageData,\n  activeChatId?: string | null,\n}\n\nconst NewMessageCounter = (props: Props) => {\n  const [counter, setCounter] = React.useState(0)\n\n  let chatIdWithNewMessage = props.newMessage && (props.newMessage.chat ? props.newMessage.chat._id : null)\n  \n  React.useEffect(() => {\n    if (props.newMessage && (chatIdWithNewMessage === props.chatId) && (props.chatId !== props.activeChatId)) {\n      setCounter(counter + 1)\n    }\n\n    if (props.chatId === props.activeChatId) {\n      setCounter(0)\n    }\n  }, [props.newMessage, props.activeChatId])\n\n  return (  \n    <>\n      { counter > 0 && \n        <div className={style.counter}>\n          {counter}\n        </div>\n      }\n    </>\n  );\n};\nexport default React.memo(NewMessageCounter);","import React from \"react\";\n\nimport { MessageData } from '../../store/message/types'\n\nimport NewMessageCounter from \"../NewMessageCounter\"\nimport style from './style.module.css'\n\ninterface Props {\n  name: string | undefined,\n  chatId?: string,\n  avatarSrc: string,\n  newMessage?: MessageData,\n  activeChatId?: string | null,\n  onClick?: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void\n}\n\nconst User = (props: Props) => {\n\n  React.useEffect(() => {\n\t\tconst authToken = localStorage.getItem('authToken')\n\t\tif (!authToken) {\n\t\t\treturn\n\t\t}\n  }, [])\n  \n  return (  \n    <div className={style.user} onClick={props.onClick}>\n      <img src={props.avatarSrc} alt=\"avatar\" className={style.userImg} />\n      <div className={style.userDetails}>\n        <p className={style.useDetailsName}>{props.name}</p>\n      </div >\n      <NewMessageCounter\n        chatId={props.chatId}\n        newMessage={props.newMessage}\n        activeChatId={props.activeChatId}\n      />\n    </div>\n  );\n};\nexport default React.memo(User);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"style_counter__1moC1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"style_user__2v5VR\",\"userImg\":\"style_userImg__1CkCR\",\"userDetails\":\"style_userDetails__wkzC-\",\"userDetailsName\":\"style_userDetailsName__2_mEK\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAflBMVEUAAAD///9HR0d4eHiampr8/Pzk5OT39/fy8vLd3d3R0dHq6upEREQ/Pz88PDyMjIxycnIqKioTExPIyMjY2NhMTEyBgYG7u7tfX19paWlkZGQeHh65ubnDw8Obm5uhoaGwsLCnp6eJiYkaGhpVVVUPDw8xMTElJSUvLy93d3edrNP8AAAJNElEQVR4nO2dbVvbOgyGY1hJaXkpr6PARjsKbP//D541akliy5YeJ+7Bu/x83Orad2LLkiyXanl29G+rOqv+dR393wNIrkKYvwph/iqE+asQ5q9CmL8KYf4qhPmrEOavQpi/CmH+KoT5qxDmr0KYvwph/iqE+asQ5q9CmL8KYf4qhPmrEOavQpi/CmH+KoT5qxCOqqfzu7uLp0P2WB2O8Or4+aSemL+a1KerxceBuq0ORXh/a/qazP4cpOPqMIQvtWE0vTxA19UhCH9xeI3q4+SdV+kJ30+9gH81e03cfZWccDEJAf59jZu0/VepCS/DfFsln6lJCV9kQGN+pRxBlZbwpwbQmPuEQ6iSEt7rAI15TDeGKiXhmRbQTK6SDaJKSThVE5rTZIOoEhKu9IDGfEs1iiodoX6ONrpONIwqHeEMI/yeaBhVMsINBmhMOmMTQXj+sHw8EqbVDUq4Ejq9PnpcPpzjg0UJLy5vPiOh2cud93O/UUBTv/l7vXv5nPP1zeUFNGKMcGHHCXNfiPcNJvT7p5dz65Oni0SEC7un5pnydv4EJ7zhe/3GRc9zhFFL+OozjnMm/nnDAc2E63XDPdWtgMBSSbgIjO3F+fRxBKF5cHsNxSbq16gjDK8rZ4JB/sxe7poOG2StH6QiXAuDm1mfB7d70g+7V+lb1uMRypbRQvStnqBu4ceke4sKwtAa3GvVaxEDaOp+r5qZrlqLMuG7any9zqIIDfxYjXkfhTCYDvzUpGO+X4cTvgo5up00gaVI6E/o9tUxFE/DCX8o2yjSWCIhm5Hn1H7T9WDCI22b2h0wSqj3MDv2NAqwS6jfbmR7KhEC2ZbW6Y/AM2badnoR1SqO8BEYYrsDRzjevTmwBpotBxJqV/xW7eOM8mme216BieO6QiCh2s5s9RmCq7L5ttrU9znSTLQ1YUJgQZiO77yEmu3UjkRxntORFPOHCbWbIamdMFAzUsdkIEtD3hLDhFgY1HoYEQuxk0/UeVF7rQYRYiNtl4T6UKZVJwCGFr8TumGE2NPs7Nk6t7KjeadXrKXkm4YJwY2tbQhH+V3fBGt5ckjCNuepC7ladfNQYB7roISdls9Yy5/dXrGmwwij1yG4EvvbNtbpsHWIHT/0vGDInPbPuRGnzZtKVhJi7lc/lwTsNM/9Xu0iuLDcdC1CiKV2rYGqX4W9krA1LBXkhAmxfIRVNqIN1J1CBcxfkOpVhdgCynzaZwkPumaO6wxlsuZ2a5BwDfTlGjUVIjMCxISLmW+BUJ0SMtzBQ7UR94wpF/wg4ZOYSpM+ADxO7uD7SvAZZuzRL5CskzOmEqEu97zViv+C4IbjO0PWu7VyYl98yWrHzWfT3r0b4w9vPbvahksum4ZQaRADicuN5yHdBn5LXJumZY5VYULl/us12veBSRCoOdBtU8/e9gihzjfxnAL9EUZ64qu8VIVfcjpYR6gpjuFdp3OFJZ55qqE0DuPvkQgVS5FfhEq/3WNQ5aWoWIRKQjH/ybr3V+qt1FM6Ij0gZTWGrhYj7JuwGUutDd6q5kcRzNZOtPcYlPU0T/4Xwl+ZwPLWnvex8ecVT9VX4NRVX75lwVeGrjFA72L87vk4UFQMVO5xvsmcPzWIKBnyjPmC226kJHAc4XLGrsUTbhGucUAP4i/WX5jMxFNDmPDR75nUzgSLqL3cyr1Zculfh15XIY7wPZwbmvY3JuzAqiNr0A9hZ+pWU0yjJJTfSdfcINuEpV6Vs8/ItBqr6utNkxacfg7uCTs56qnjvp9pvGE+fkYJVV2Z1jMF0+R9fWZ3/+g+P1X8MSeJUF2MsYtFo47wW+0ss95WyQZHINQnMeiL7mKwuvoAu5W90zChvqddLBpVWdrV7mQAOBKQEIOEQL0QrXnlncqQaFdECk6EiRoiBLqhvOwVzONqd9CG1GOEr9KECPV2f3eEC98F4rRqvuoDaBEuGgoQAodcFALD17l4kTMvb/it7BJxJSHgXU6e0EcSEhUeQaVfIe/GS4icWDyP+Qr3LxGq5QlMRe9/IUUKF2O+wv1LhPzbQO7bR4jYfQpIB2/2rWjbh/bWnx4OLyFk92nPxertglo1X4ileryXUD2EyHBr/JmovhE7YvdW0vKE0E1seuIjuDOtyLHBtldfmMETQnaMLstiRTCC6NwT8L+NPz3FEkKvkI5HBkT2nMgRw9p4XiJLCBmNVdMErGOTRE4SNk09K5EjxIwGpaHggtKwKJ8BFuLy5pQjXCNfS3Zv5EkaN035whOOEDIalFqJuhcbEnmaWNKHPzBlCLG7BJRZibolE9ItPps892cYQsw5aaYTEs0pFTP5WVvDEEJGg2ZGRG2+pCY38YYZMPZOv0uI7bO0DJFwVamXmNnPZaVcQmy05NMPTrG5ooUIWjDuMNMlxNyvZjcc0+veq46Z/pw1dQjB0TZFBqPvhls1R0tIpmErZtN3CLGzMfI9Ig8Mw2oOQl7Bcx7mvNYhxPYKWi0JDM3eQwFXOLNfOISY9XqOaKMUWWnwFhyTr7EJwSs55FwNODL0ixYA6g66J4o2Ibi0m2D8Y+TAgkR2EV3i7t5g/wtY6dPE96MlSvtqjCnmf3B1OTbhGvvCprY76tqvrGZoaI7SjaBsQvBwpWmTwCvdKsqZcG9B2YQx9/GSbIe7DRH9jQ3XmNqE2P5D1mD08JdEdhq0Ym41tkV4jRl+emJJNvz9kgKzlLVz68MiBKc95TVHzOd3tYqYVExltEWI/YjCzmkb5ejXFRGi/pJTLGkRgj+sOktJGOcROnlhixDcfogw6qdMZMUROj/IOQbhl3qHORGuogidqvNhhGRpvpQtld4hGFocYLdAT+2c4GKYLSUPYuRzp70on4jGnpItBfdDSsGuwUEo1eRc4B97lfZDNJhtGoExpVbNKQT6+30T59amPW3Bad+0QaNUpTYRk4rJmA6LLWhOJEmX7r4b+cG4rcTYAi3TXsY8Z53q15gV4N7ttglBy09pEXAUOtF8W4Ot3ISpTXh3DImaL7BGOtFx5wZs5f5OfKK/HPCFVAjzVyHMX4UwfxXC/FUI81chzF+FMH8VwvxVCPNXIcxfhTB/FcL8VQjzVyHMX4UwfxXC/FUI81chzF+FMH8VwvxVCPNXIcxfhTB/FcL89c8T/gf753nAdsm8qgAAAABJRU5ErkJggg==\""],"sourceRoot":""}