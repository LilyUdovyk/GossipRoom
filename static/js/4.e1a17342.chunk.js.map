{"version":3,"sources":["components/Profile/style.module.css","components/ButtonWithPopup/style.module.css","components/Sidebar/style.module.css","components/Main/style.module.css","components/Empty/style.module.css","components/Header/style.module.css","components/ButtonWithChatDetails/style.module.css","components/AttachmentLink/style.module.css","components/FormattedMessage/style.module.css","components/ForwardingBlock/style.module.css","components/MessageMenu/style.module.css","components/Chat/style.module.css","components/ButtonWithEmoji/style.module.css","components/ButtonWithFileUpload/style.module.css","components/OriginalMessageBlock/style.module.css","components/MessageInput/style.module.css","components/ChatWindow/style.module.css","components/ButtonWithPopup/index.tsx","components/Sidebar/index.tsx","components/Empty/index.tsx","components/ButtonWithChatDetails/index.tsx","components/Header/index.tsx","components/AttachmentLink/index.tsx","components/FormattedMessage/index.tsx","components/ForwardingBlock/index.tsx","components/MessageMenu/index.tsx","components/Chat/index.tsx","components/ButtonWithEmoji/index.tsx","components/ButtonWithFileUpload/index.tsx","components/OriginalMessageBlock/index.tsx","components/MessageInput/index.tsx","components/ChatWindow/index.tsx","components/Main/index.tsx","components/Profile/index.tsx","img/user_avatar.png","components/NewMessageCounter/index.tsx","components/User/index.tsx","components/NewMessageCounter/style.module.css","components/User/style.module.css","img/chat_avatar.png"],"names":["module","exports","connect","state","nick","user","userData","login","avatar","url","userAvatar","dispatch","bindActionCreators","logout","userActions","React","memo","props","useState","isOpenedPopup","setIsOpenedPopup","myRef","useRef","closePopup","useCallback","event","target","Element","current","contains","useEffect","document","addEventListener","removeEventListener","className","style","buttonWithPopup","onClick","navOpener","icon","ref","popup","popupHeader","src","alt","navSidebar","navList","navItem","to","activeUserId","_id","contacts","contactsData","chats","activeChatId","chat","chatSuccessData","activeChat","newMessageId","message","newMessage","newMessageChatId","getContacts","contactsActions","request","getUser","getActiveChat","chatActions","addChat","sidebarView","setSidebarView","localStorage","getItem","length","getDetailsOfChat","details","members","name","title","chatAvatar","member","find","nameFromMember","memberAvatar","checkMemberInChats","contactId","contactsChats","map","forEach","push","sidebar","buttonBlock","navButton","User","key","chatId","avatarSrc","emptyChatList","contact","empty","emptyName","emptyInfo","activeChatName","isOpenedChatDetails","setIsOpenedChatDetails","closeChatDetails","buttonWithChatDetails","chatDetails","chatDetailsHeader","getAvatarOfChat","header","headerName","href","attachmentLink","size","fileIcon","text","videoArray","match","videoId","width","frameBorder","allow","allowFullScreen","encrypted-media","picture-in-picture","media","mediaAttachment","attachment","type","originalFileName","controls","includes","urls","getUrls","console","log","parsedUrls","Array","from","idx","parseURLs","originalMessage","savedMessage","isForward","forwardMessage","messageActions","saveOriginalMessage","closeForwardBlock","deleteOriginalMessage","isReply","groupTitleFromMember","forwardingContainer","containerHeader","containerTitle","originalMessageId","isVisibleMenu","setIsVisibleMenu","closeMessageMenu","classnames","messageMenu","invisible","menuList","menuItem","messages","messageData","mediaUrl","fileData","chatsRef","scrollToBottom","scrollTop","scrollHeight","isUserMsg","owner","replyTo","replyBlock","forwarded","forwardedBlock","timeBlock","moment","createdAt","format","isOpenedEmoji","setIsOpenedEmoji","closeEmoji","buttonWithEmoji","button","emojiBlock","set","onSelect","addEmoji","fileId","uploadFile","mediaActions","sendMessage","isOpenedFileUpload","setIsOpenedFileUpload","fileMessage","setFileMessage","myFormRef","fileAttachmentRef","closeFileUpload","buttonWithFileUpload","paperclipButton","dialogContainer","dialogHeader","dialogForm","method","action","encType","id","onSubmit","e","mediaId","onChange","form","dialogLabel","htmlFor","dialogInput","autoFocus","value","placeholder","submitBtn","originalMessageBlock","replyToMessage","setText","messageBlock","emoji","native","preventDefault","trim","messageForm","messageInput","chatWindow","main","onMessage","socket","io","emit","authToken","on","data","error","profile","counter","setCounter","userImg","userDetails","useDetailsName"],"mappings":"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","file":"static/js/4.e1a17342.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"style_profile__2a_cU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonWithPopup\":\"style_buttonWithPopup__1lQAQ\",\"navOpener\":\"style_navOpener__3Hw_I\",\"popup\":\"style_popup__u9k-3\",\"popupHeader\":\"style_popupHeader__2ZHlh\",\"navSidebar\":\"style_navSidebar__3o8Bs\",\"navList\":\"style_navList__1QP6Z\",\"navItem\":\"style_navItem__1zHpi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"style_sidebar__3J9v9\",\"emptyChatList\":\"style_emptyChatList__mPQOP\",\"buttonBlock\":\"style_buttonBlock__3eLO2\",\"navButton\":\"style_navButton__2lPuw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__F82O7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"empty\":\"style_empty__1X47t\",\"emptyName\":\"style_emptyName__2XU3c\",\"emptyInfo\":\"style_emptyInfo__R38MY\",\"avatar\":\"style_avatar__UQFNR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__MlSQ_\",\"headerName\":\"style_headerName__qUa0b\",\"settingsButton\":\"style_settingsButton__29FvD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonWithChatDetails\":\"style_buttonWithChatDetails__3XgXd\",\"navOpener\":\"style_navOpener__15gIU\",\"chatDetails\":\"style_chatDetails__2vnMD\",\"chatDetailsHeader\":\"style_chatDetailsHeader__16vpH\",\"navSidebar\":\"style_navSidebar__fvfWt\",\"navList\":\"style_navList__1aX_5\",\"navItem\":\"style_navItem__3Qxgo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"attachmentLink\":\"style_attachmentLink__DNDkC\",\"fileIcon\":\"style_fileIcon__1WFEO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mediaAttachment\":\"style_mediaAttachment__3QnPn\",\"attachment\":\"style_attachment__1OkB3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forwardingContainer\":\"style_forwardingContainer__5s0m0\",\"containerHeader\":\"style_containerHeader__1xJtM\",\"containerTitle\":\"style_containerTitle__3_Ko8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageMenu\":\"style_messageMenu__pJRDf\",\"invisible\":\"style_invisible__1LjwZ\",\"menuList\":\"style_menuList__AcjpA\",\"menuItem\":\"style_menuItem__8d5iJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chats\":\"style_chats__jiJor\",\"chat\":\"style_chat__15hmj\",\"isUserMsg\":\"style_isUserMsg__23Qao\",\"replyBlock\":\"style_replyBlock__17Q2S\",\"owner\":\"style_owner__bGB4C\",\"timeBlock\":\"style_timeBlock__3B-5_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonWithEmoji\":\"style_buttonWithEmoji__1MOip\",\"emojiBlock\":\"style_emojiBlock__3BsgC\",\"button\":\"style_button__3YROV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paperclipButton\":\"style_paperclipButton__HjiF1\",\"uploadButton\":\"style_uploadButton__2q1Mt\",\"dialogContainer\":\"style_dialogContainer__HF7Tf\",\"dialogHeader\":\"style_dialogHeader__OE5dX\",\"dialogForm\":\"style_dialogForm__3EKHg\",\"dialogLabel\":\"style_dialogLabel__3UVsc\",\"dialogInput\":\"style_dialogInput__bH3wN\",\"submitBtn\":\"style_submitBtn__3REnT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"originalMessageBlock\":\"style_originalMessageBlock__2t3vV\",\"originalMessage\":\"style_originalMessage__200am\",\"owner\":\"style_owner__29svV\",\"deleteOriginalMessage\":\"style_deleteOriginalMessage__3eBEB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageBlock\":\"style_messageBlock__3YrA3\",\"messageForm\":\"style_messageForm__3Mcuz\",\"messageInput\":\"style_messageInput__2lCn9\",\"button\":\"style_button__3Jpgk\",\"ButtonWithEmoji\":\"style_ButtonWithEmoji__2Pk_-\",\"buttonBlock\":\"style_buttonBlock__g4UAK\",\"uploadBtnWrapper\":\"style_uploadBtnWrapper__bhQkQ\",\"uploadInput\":\"style_uploadInput__2F-YU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatWindow\":\"style_chatWindow__14ABs\"};","import React from \"react\";\r\nimport { bindActionCreators, Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\r\nimport * as userActions from \"../../store/user/actions\";\r\n\r\nimport style from './style.module.css'\r\nimport userAvatar from '../../img/user_avatar.png'\r\n\r\nconst mapStateToProps = (state: IRootState) =>\r\n ({\r\n  nick: state.user.userData.nick,\r\n  login: state.user.userData.login,\r\n  avatar: state.user.userData.avatar ? `http://chat.fs.a-level.com.ua/${state.user.userData.avatar.url}` : userAvatar,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\r\n  bindActionCreators(\r\n    {\r\n      logout: userActions.logout,\r\n    },\r\n    dispatch\r\n  );\r\n\r\ntype ButtonWithPopupProps = ReturnType<typeof mapStateToProps> &\r\n  ReturnType<typeof mapDispatchToProps>\r\n\r\nconst ButtonWithPopup: React.FC<ButtonWithPopupProps> = props => {  \r\n\r\n  const [isOpenedPopup, setIsOpenedPopup] = React.useState(false);\r\n\r\n  const myRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  const closePopup = React.useCallback(\r\n    (event: MouseEvent) => {\r\n      if (!(event.target instanceof Element)) {\r\n        return;\r\n      }\r\n      if (myRef.current && !myRef.current.contains(event.target)) {\r\n        setIsOpenedPopup(false);\r\n      }\r\n    },\r\n    [setIsOpenedPopup]\r\n  )\r\n\r\n  React.useEffect(() => {\r\n    if (isOpenedPopup) {\r\n      document.addEventListener(\"click\", closePopup);\r\n    } else {\r\n      document.removeEventListener(\"click\", closePopup);\r\n    }\r\n  }, [isOpenedPopup, closePopup])\r\n\r\n  const togglePopup = () => {\r\n    setIsOpenedPopup(!isOpenedPopup)\r\n  }\r\n\r\n  const logoutHandler = () => {\r\n    props.logout()\r\n  }\r\n\r\n  return (\r\n    <div className={style.buttonWithPopup}>\r\n      <button onClick={togglePopup} className={style.navOpener}>\r\n        <FontAwesomeIcon icon=\"bars\" />\r\n      </button>\r\n      {isOpenedPopup &&\r\n        <div ref={myRef} className={style.popup}>\r\n          <div className={style.popupHeader}>\r\n            <img src={props.avatar} alt={\"User avatar\"} />\r\n            <p>{ props.nick || props.login}</p>\r\n          </div>\r\n          <nav className={style.navSidebar}>\r\n            <ul className={style.navList}>\r\n              <li\r\n                className={style.navItem}\r\n              >\r\n                <Link to='/new-group'>\r\n                  <FontAwesomeIcon icon=\"comments\" />\r\n                  New group\r\n                </Link>\r\n              </li>\r\n              <li\r\n                className={style.navItem}\r\n              >\r\n                <Link to='/user-settings'>\r\n                  <FontAwesomeIcon icon=\"cogs\" />\r\n                  User Settings\r\n                </Link>\r\n              </li>\r\n              <li \r\n                className={style.navItem}\r\n                onClick={() => logoutHandler()}\r\n              >\r\n                <FontAwesomeIcon icon=\"sign-out-alt\" />\r\n                Exit\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(ButtonWithPopup));","import React from 'react';\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as userActions from \"../../store/user/actions\";\nimport * as contactsActions from \"../../store/contacts/actions\";\nimport * as chatActions from \"../../store/chat/actions\";\nimport { UserData } from '../../store/user/types'\nimport { ChatData } from '../../store/chat/types'\n\nimport User from \"../User\";\nimport userAvatar from '../../img/user_avatar.png'\nimport chatAvatar from '../../img/chat_avatar.png'\nimport ButtonWithPopup from '../ButtonWithPopup';\nimport style from './style.module.css'\n\nconst mapStateToProps = (state: IRootState) => ({\n\tactiveUserId: state.user.userData._id,\n\tcontacts: state.contacts.contactsData,\n\tchats: state.user.userData.chats,\n\tactiveChatId: state.chat.chatSuccessData.activeChat._id,\n\tnewMessageId: state.message.newMessage ? state.message.newMessage.newMessageId : null,\n\tnewMessageChatId: state.message.newMessage ? state.message.newMessage.newMessageChatId : null\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n\tbindActionCreators(\n\t\t{\n\t\t\tgetContacts: contactsActions.getContacts.request,\n\t\t\tgetUser: userActions.getUser.request,\n\t\t\tgetActiveChat: chatActions.getActiveChat.request,\n\t\t\taddChat: chatActions.addChat.request\n\t\t},\n\t\tdispatch\n\t);\n\ntype SidebarProps = ReturnType<typeof mapStateToProps> &\n\tReturnType<typeof mapDispatchToProps>;\n\ntype SidebarView = \"contacts\" | \"chats\"\n\nconst Sidebar: React.FC<SidebarProps> = props => {\n\n\tconst [sidebarView, setSidebarView] = React.useState<SidebarView>(\"contacts\")\n\n\tReact.useEffect(() => {\n\t\tconst authToken = localStorage.getItem('authToken')\n\t\tif (!authToken) {\n\t\t\treturn\n\t\t}\n\t\tprops.getUser()\n\t\tprops.getContacts()\n\t}, [])\n\n\tReact.useEffect(() => {\n\t\tif (!props.chats || !props.chats.length) {\n\t\t\treturn\n\t\t} else {\n\t\t\tsetSidebarView(\"chats\")\n\t\t}\n\t}, [props.chats])\n\n\tconst getDetailsOfChat = (chat: ChatData) => {\n\t\tlet details\n\t\tif (chat.members.length === 1) {\n\t\t\tdetails = {\n\t\t\t\tname: chat.title || \"You\",\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : userAvatar\n\t\t\t}\n\t\t} else if (chat.members.length > 2) {\n\t\t\tdetails = {\n\t\t\t\tname: chat.title || \"Group\",\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : chatAvatar\n\t\t\t}\n\t\t} else {\n\t\t\tlet member = chat.members.find(member => {\n\t\t\t\treturn member._id !== props.activeUserId\n\t\t\t})\n\t\t\tlet nameFromMember = member && (member.nick || member.login)\n\t\t\tlet memberAvatar = member && member.avatar && `http://chat.fs.a-level.com.ua/${member.avatar.url}`\n\t\t\tdetails = {\n\t\t\t\tname: chat.title || nameFromMember,\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : (memberAvatar || userAvatar)\n\t\t\t}\n\t\t}\n\t\treturn details\n\t}\n\n\tconst checkMemberInChats = (contactId: string) => {\n\t\tlet contactsChats: string[] = []\n\t\tprops.chats && props.chats.map(chat => {\n\t\t\tif (chat.members.length === 2) {\n\t\t\t\tchat.members.forEach(member => {\n\t\t\t\t\tif (member._id === contactId) {\n\t\t\t\t\t\tcontactsChats.push(chat._id)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\treturn contactsChats\n\t}\n\n\tconst activeChatHandler = (chatId: string) => {\n\t\tprops.getActiveChat(chatId)\n\t};\n\n\tconst addChatHandler = (contactId: string) => {\n\t\tif (checkMemberInChats(contactId).length) {\n\t\t\tprops.getActiveChat(checkMemberInChats(contactId)[0])\n\t\t} else {\n\t\t\tprops.addChat(contactId)\n\t\t}\n\t};\n\n\tconst renderSidebarContent = () => {\n\t\tif (sidebarView === \"chats\") {\n\t\t\tif (props.chats) {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ props.chats.map(chat => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<User\n\t\t\t\t\t\t\t\t\tkey={chat._id}\n\t\t\t\t\t\t\t\t\tchatId={chat._id}\n\t\t\t\t\t\t\t\t\tname={getDetailsOfChat(chat).name}\n\t\t\t\t\t\t\t\t\tavatarSrc={getDetailsOfChat(chat).avatar}\n\t\t\t\t\t\t\t\t\tnewMessageId={props.newMessageId}\n\t\t\t\t\t\t\t\t\tnewMessageChatId={props.newMessageChatId}\n\t\t\t\t\t\t\t\t\tactiveChatId={props.activeChatId}\n\t\t\t\t\t\t\t\t\tonClick={() => activeChatHandler(chat._id)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<div className={style.emptyChatList}>\n\t\t\t\t\t\tYour chat list is empty, please, select a contact to start messaging\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t} \n\t\t} else if (sidebarView === \"contacts\")  {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{ props.contacts.map((contact: UserData) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<User \n\t\t\t\t\t\t\t\tkey={contact._id}\n\t\t\t\t\t\t\t\tname={contact.nick || contact.login}\n\t\t\t\t\t\t\t\tavatarSrc={contact.avatar ? `http://chat.fs.a-level.com.ua/${contact.avatar.url}` : userAvatar }\n\t\t\t\t\t\t\t\tonClick={() => addChatHandler(contact._id)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</>\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<aside className={style.sidebar}>\n\t\t\t<div className={style.buttonBlock}>\n\t\t\t\t<ButtonWithPopup />\n\t\t\t\t{ sidebarView === \"chats\" && \n\t\t\t\t\t<button \n\t\t\t\t\t\tclassName={style.navButton}\n\t\t\t\t\t\ttitle=\"Contacts\"\n\t\t\t\t\t\tonClick={() => setSidebarView(\"contacts\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FontAwesomeIcon icon=\"user-friends\" />\n\t\t\t\t\t</button>\n\t\t\t\t}\n\t\t\t\t{ sidebarView === \"contacts\" &&\n\t\t\t\t\t<button \n\t\t\t\t\t\tclassName={style.navButton}\n\t\t\t\t\t\ttitle=\"Chats\"\n\t\t\t\t\t\tonClick={() => setSidebarView(\"chats\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FontAwesomeIcon icon=\"comments\" />\n\t\t\t\t\t</button>\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t{renderSidebarContent()}\n\t\t</aside>\n\t)\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Sidebar));","import React from \"react\";\n\nimport style from './style.module.css'\n\ninterface Props {\n  name: string,\n  avatarSrc: string\n}\n\nconst Empty = (props: Props) => {\n  return (\n    <div className={style.empty}>\n      <h1 className={style.emptyName}>Welcome, {props.name} </h1>\n      <img src={props.avatarSrc} alt={props.name} className={style.avatar} />\n      <p className={style.emptyInfo}>\n        Please select a chat to start messaging\n      </p>\n    </div>\n  );\n};\nexport default React.memo(Empty);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport { IRootState } from \"../../store/rootReducer\";\r\nimport { ChatData } from '../../store/chat/types'\r\n\r\nimport style from './style.module.css'\r\nimport userAvatar from '../../img/user_avatar.png'\r\nimport chatAvatar from '../../img/chat_avatar.png'\r\n\r\nconst mapStateToProps = (state: IRootState) =>\r\n ({\r\n  activeChat: state.chat.chatSuccessData.activeChat,\r\n  activeChatName: state.chat.chatSuccessData.activeChatName,\r\n  activeUserId: state.user.userData._id,\r\n});\r\n\r\nconst  ButtonWithChatDetails: React.FC<any> = props => {  \r\n\r\n  const [isOpenedChatDetails, setIsOpenedChatDetails] = React.useState(false);\r\n\r\n  const myRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  const closeChatDetails = React.useCallback(\r\n    (event: MouseEvent) => {\r\n      if (!(event.target instanceof Element)) {\r\n        return;\r\n      }\r\n      if (myRef.current && !myRef.current.contains(event.target)) {\r\n        setIsOpenedChatDetails(false);\r\n      }\r\n    },\r\n    [setIsOpenedChatDetails]\r\n  )\r\n\r\n  React.useEffect(() => {\r\n    if (isOpenedChatDetails) {\r\n      document.addEventListener(\"click\", closeChatDetails);\r\n    } else {\r\n      document.removeEventListener(\"click\", closeChatDetails);\r\n    }\r\n  }, [isOpenedChatDetails, closeChatDetails])\r\n\r\n  const toggleChatDetails = () => {\r\n    setIsOpenedChatDetails(!isOpenedChatDetails)\r\n  }\r\n\r\n  const getAvatarOfChat = (chat: ChatData) => {\r\n    let avatar\r\n    if (chat.members.length === 1) {\r\n        avatar = chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : userAvatar\r\n    } else if (chat.members.length > 2) {\r\n        avatar = chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : chatAvatar\r\n    } else {\r\n      let member = chat.members.find(member => {\r\n        return member._id !== props.activeUserId\r\n      })\r\n      let memberAvatar = member && member.avatar && `http://chat.fs.a-level.com.ua/${member.avatar.url}`\r\n        avatar = chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : (memberAvatar || userAvatar)\r\n    }\r\n    return avatar\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={style.buttonWithChatDetails}>\r\n      <button onClick={toggleChatDetails} className={style.navOpener}>\r\n      <FontAwesomeIcon icon=\"comment-dots\" />\r\n      </button>\r\n      {isOpenedChatDetails &&\r\n        <div ref={myRef} className={style.chatDetails}>\r\n          <div className={style.chatDetailsHeader}>\r\n            <img src={getAvatarOfChat(props.activeChat)} alt={\"Chat avatar\"} />\r\n            <p>{ props.activeChatName }</p>\r\n          </div>\r\n          <nav className={style.navSidebar}>\r\n            <ul className={style.navList}>\r\n              <li\r\n                className={style.navItem}\r\n              >\r\n                <Link to='/chat-settings'>\r\n                  <FontAwesomeIcon icon=\"cogs\" />\r\n                  Chat Settings\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\nexport default connect(mapStateToProps, null)(React.memo(ButtonWithChatDetails));","import React from \"react\";\n\nimport style from './style.module.css'\nimport ButtonWithChatDetails from '../ButtonWithChatDetails'\n\ninterface Props {\n\tactiveChatName: string,\n}\n\nconst Header = (props: Props) => {\n\treturn (\n\t\t<header className={style.header}>\n\t\t\t<h1 className={style.headerName}>{props.activeChatName}</h1>\n\t\t\t<ButtonWithChatDetails />\n\t\t</header>\n\t);\n}\nexport default React.memo(Header);","import React from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\"\n\nimport style from \"./style.module.css\";\n\ninterface Props {\n    url: string,\n    icon: IconProp,\n    text: string\n}\n\nconst AttachmentLink = (props: Props) => {\n    return (\n        <a href={`http://chat.fs.a-level.com.ua/${props.url}`}\n            className={style.attachmentLink}\n        >\n            <FontAwesomeIcon icon={props.icon} size=\"3x\" className={style.fileIcon} />\n            <p>\n                {props.text}\n            </p>\n        </a>\n    );\n};\nexport default React.memo(AttachmentLink);","import React from \"react\";\nimport Iframe from 'react-iframe'\nimport MicrolinkCard from '@microlink/react';\nimport Linkify from 'linkifyjs/react';\nimport getUrls from 'get-urls';\n\nimport { MessageData, ReplyData } from \"../../store/message/types\";\nimport AttachmentLink from \"../AttachmentLink\"\nimport style from\"./style.module.css\";\n\ninterface Props {\n\tmessage: MessageData | ReplyData | null\n}\n  \nconst parseURLs = (text: string) => {\n    const urls = getUrls(text);\n    console.log(urls)\n    const parsedUrls = Array.from(urls).map((url, idx: number) => {\n      return (\n        <MicrolinkCard \n          url={url} \n          key={idx} \n          media={['audio', 'video', 'image', 'logo']}\n        />\n      )\n    })\n    return (\n        <>\n            {parsedUrls}\n        </>\n    )\n}\n\nconst FormattedMessage = (props: Props) => {\n    let videoArray =  props.message && props.message.text && props.message.text.match(/http(?:s?):\\/\\/(?:www\\.)?youtu(?:be\\.com\\/watch\\?v=|\\.be\\/)([\\w\\-\\_]*)(&(amp;)?‌ [\\w\\?‌ =]*)?/)\n    if (videoArray) {\n      let videoId = videoArray && videoArray[1]\n      return (\n        <>\n          <a href={props.message && props.message.text}>{props.message && props.message.text}</a>\n          <Iframe\n            url={`https://www.youtube.com/embed/${videoId}`}\n            width=\"100%\"\n            frameBorder={0}\n            allow={\"accelerometer\"}\n            allowFullScreen\n            encrypted-media\n            picture-in-picture\n          />\n        </>\n      )\n    } else if (props.message && props.message.media) {\n      return (\n        <div className={style.mediaAttachment}>\n          <p>{props.message.text}</p>\n          {props.message.media.map(attachment => {\n            if (attachment.type === \"image/png\" || attachment.type === \"image/jpeg\") {\n              return (\n                <img\n                  key={attachment._id}\n                  className={style.attachment}\n                  src={`http://chat.fs.a-level.com.ua/${attachment.url}`}\n                  alt=\"Attachment\"\n                />\n              )\n            } else if (attachment.type === \"video/mp4\" \n                  || attachment.type === \"video/webm\" \n                  || attachment.type === \"video/ogg\") {\n              return (\n                <>\n                  <AttachmentLink\n                    url={attachment.url}\n                    icon={\"file-video\"}\n                    text={attachment.originalFileName}\n                  />\n                  <video\n                    key={attachment._id}\n                    className={style.attachment}\n                    controls>\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"video/mp4\" />\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"video/webm\" />\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"video/ogg\" />\n                    <p>Your browser doesn't support HTML5 video. Download this file for review.</p>\n                  </video>\n                </>\n              )\n            } else if (attachment.type === \"audio/mp3\" || attachment.type === \"audio/ogg\") {\n              return (\n                <>\n                  <AttachmentLink\n                    url={attachment.url}\n                    icon={\"file-audio\"}\n                    text={attachment.originalFileName}\n                  />\n                  <audio\n                    controls\n                    key={attachment._id}\n                    className={style.attachment}\n                  >\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"audio/mp3\" />\n                    <source src={`http://chat.fs.a-level.com.ua/${attachment.url}`} type=\"audio/ogg\" />\n                    <p>Your browser doesn't support HTML5 audio. Download this file for review.</p>\n                  </audio>\n                </>\n              )\n            } else if (attachment.type === \"application/zip\") {\n              return (\n                <AttachmentLink\n                  url={attachment.url}\n                  icon={\"file-archive\"}\n                  text={attachment.originalFileName}\n                />\n              )\n            } else if (attachment.type && (attachment.type.includes(\"application\") || attachment.type.includes(\"text\"))) {\n              return (\n                <AttachmentLink\n                  url={attachment.url}\n                  icon={\"file-alt\"}\n                  text={attachment.originalFileName}\n                />\n              )\n            } else {\n              return (\n                <AttachmentLink\n                  url={attachment.url}\n                  icon={\"file\"}\n                  text={attachment.originalFileName}\n                />\n              )\n            }\n          })}\n        </div>\n      )\n    } else {\n        return (\n            <>\n              <Linkify>\n                <p>{ props.message && props.message.text }</p>\n                { props.message && props.message.text && \n                  <p> { parseURLs(props.message.text) } </p>\n                }\n              </Linkify>\n            </>\n        )\n    }\n}\nexport default React.memo(FormattedMessage);","import React from 'react'\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as chatActions from \"../../store/chat/actions\";\nimport * as messageActions from \"../../store/message/actions\";\nimport { ChatData } from '../../store/chat/types'\n\nimport style from './style.module.css'\nimport User from \"../User\";\nimport userAvatar from '../../img/user_avatar.png'\nimport chatAvatar from '../../img/chat_avatar.png'\n\nconst mapStateToProps = (state: IRootState) => ({\n  chats: state.user.userData.chats,\n  activeUserId: state.user.userData._id,\n  originalMessage: state.message.savedMessage.originalMessage,\n  isForward: state.message.savedMessage.isForward\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      getActiveChat: chatActions.getActiveChat.request,\n      forwardMessage: messageActions.forwardMessage.request,\n      saveOriginalMessage: messageActions.saveOriginalMessage,\n    },\n    dispatch\n  );\n\ntype ForwardingBlockProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst ForwardingBlock: React.FC<ForwardingBlockProps> = props => {\n\n  const myRef = React.useRef<HTMLDivElement>(null);\n\n  const closeForwardBlock = (event: MouseEvent) => {\n    if (!(event.target instanceof Element)) {\n      return;\n    }\n    if (myRef.current && !(myRef.current.contains(event.target))) {\n      deleteOriginalMessage()\n    }\n  }\n  \n  React.useEffect(() => {\n\t\tif (props.isForward) {\n      document.addEventListener(\"click\", closeForwardBlock);\n    } else {\n      document.removeEventListener(\"click\", closeForwardBlock);\n    }\n  }, [props.isForward])\n\n  const deleteOriginalMessage = () => {\n    props.saveOriginalMessage({originalMessage: null, isReply: false, isForward: false})\n  }\n\n  const forwardMessage = (chatId: string) => {\n    props.getActiveChat(chatId)\n    if (props.originalMessage){\n      props.forwardMessage({ activeChatId: chatId, originalMessageId: props.originalMessage._id })\n    }\n  }\n\n  const getDetailsOfChat = (chat: ChatData) => {\n\t\tif (chat.members.length === 1) {\n\t\t\tlet details = {\n\t\t\t\tname: \"You\",\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : userAvatar\n\t\t\t}\n\t\t\treturn details\n\t\t} else if (chat.members.length > 2) {\n\t\t\tlet details = {\n\t\t\t\tname: chat.title || \"Group\",\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : chatAvatar\n\t\t\t}\n\t\t\treturn details\n\t\t} else {\n\t\t\tlet member = chat.members.find(member => {\n\t\t\t\treturn member._id !== props.activeUserId\n\t\t\t})\n\t\t\tlet memberAvatar = member && member.avatar && `http://chat.fs.a-level.com.ua/${member.avatar.url}`\n      let groupTitleFromMember = member && (member.nick || member.login)\n      let details = {\n\t\t\t\tname: chat.title ? chat.title : groupTitleFromMember,\n\t\t\t\tavatar: chat.avatar ? `http://chat.fs.a-level.com.ua/${chat.avatar.url}` : (memberAvatar || userAvatar)\n\t\t\t}\n\t\t\treturn details\n\t\t}\n  }\n\n  return (\n    <div ref={myRef} className={style.forwardingContainer}>\n      <header className={style.containerHeader}>\n        <h4 className={style.containerTitle}>Choose recipient</h4>\n        <button onClick={() => deleteOriginalMessage()}>\n          <FontAwesomeIcon icon=\"times\" />\n        </button>\n      </header>\n      <div>\n        { props.chats.map(chat => {\n          return (\n            <User\n              key={chat._id}\n              chatId={chat._id}\n              name={getDetailsOfChat(chat).name}\n              avatarSrc={getDetailsOfChat(chat).avatar}\n              onClick={() => forwardMessage(chat._id)}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(ForwardingBlock));","import React from 'react'\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport classnames from 'classnames';\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as messageActions from \"../../store/message/actions\";\n\nimport ForwardingBlock from \"../ForwardingBlock\"\nimport style from './style.module.css'\n\nconst mapStateToProps = (state: IRootState) => ({\n  originalMessage: state.message.savedMessage.originalMessage,\n  isForward: state.message.savedMessage.isForward,\n  isReply: state.message.savedMessage.isReply,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      forwardMessage: messageActions.forwardMessage.request,\n      saveOriginalMessage: messageActions.saveOriginalMessage,\n    },\n    dispatch\n  );\n\ntype MessageMenuProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst MessageMenu: React.FC<MessageMenuProps> = props => {\n\n  const [isVisibleMenu, setIsVisibleMenu] = React.useState(true);\n\n  const myRef = React.useRef<HTMLDivElement>(null);\n\n  const closeMessageMenu = React.useCallback(\n    (event: MouseEvent) => {\n      if (!(event.target instanceof Element)) {\n        return;\n      }\n      if (myRef.current && !myRef.current.contains(event.target)) {\n        setIsVisibleMenu(false);\n      }\n    },\n    [setIsVisibleMenu]\n  )\n  \n  React.useEffect(() => {\n\t\tif (props.originalMessage) {\n      document.addEventListener(\"click\", closeMessageMenu);\n    } else {\n      document.removeEventListener(\"click\", closeMessageMenu);\n    }\n  }, [props.originalMessage, closeMessageMenu])\n  \n  const replyToMessage = () => {\n    props.saveOriginalMessage({originalMessage: props.originalMessage, isReply: true})\n    setIsVisibleMenu(false)\n  }\n\n  const forwardMessage = () => {\n    props.saveOriginalMessage({originalMessage: props.originalMessage, isForward: true})\n  }\n\n  return (\n    <>\n      <div ref={myRef}\n        className={classnames(style.messageMenu, {\n          [style.invisible]: !isVisibleMenu\n        })} \n      >\n        <ul className={style.menuList}>\n          <li \n            className={style.menuItem}\n            onClick = { () => replyToMessage()}\n          >\n            <FontAwesomeIcon icon=\"reply\" />\n            Reply\n          </li>\n          <li \n            className={style.menuItem}\n            onClick = { () => forwardMessage()}\n          >\n            <FontAwesomeIcon icon=\"share\" />\n            Forward message\n          </li>\n        </ul>\n      </div>\n      { props.isForward &&\n        <ForwardingBlock />\n      }\n    </>\n  )\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(MessageMenu));","import React, {useRef} from \"react\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport classnames from 'classnames';\nimport moment from 'moment';\n\nimport { IRootState, IRootAction } from \"../../store/rootReducer\";\nimport * as messageActions from \"../../store/message/actions\";\nimport { MessageData } from \"../../store/message/types\";\nimport FormattedMessage from \"../FormattedMessage\"\nimport MessageMenu from \"../MessageMenu\"\nimport style from './style.module.css'\n\nconst mapStateToProps = (state: IRootState) => ({\n  activeUserId: state.user.userData._id,\n  nick: state.user.userData.nick,\n  activeChat: state.chat.chatSuccessData.activeChat,\n  activeChatName: state.chat.chatSuccessData.activeChatName,\n  messages: state.chat.chatSuccessData.activeChat ? state.chat.chatSuccessData.activeChat.messages : [],\n  media: state.message.messageData.media,\n  mediaUrl: state.media.fileData.url,\n  originalMessage: state.message.savedMessage.originalMessage,\n  isForward: state.message.savedMessage.isForward\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      saveOriginalMessage: messageActions.saveOriginalMessage,\n    },\n    dispatch\n  );\n\ntype ChatProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst Chat: React.FC<ChatProps> = props => {  \n\n  const chatsRef = useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n\t\tscrollToBottom();\n  }, [])\n  \n  React.useEffect(() => {\n\t\tscrollToBottom();\n\t}, [props.messages])\n\n  const scrollToBottom = () => {\n    if (chatsRef.current) {\n      chatsRef.current.scrollTop = chatsRef.current.scrollHeight;\n    }\n  }\n\n  const isUserMsg = (message: MessageData) => {\n    return message.owner._id === props.activeUserId ? true : false\n  }\n\n  const saveOriginalMessage = (message: MessageData) => {\n    props.saveOriginalMessage({originalMessage: message, isReply: false, isForward: false})\n  }\n\n  return (\n    <div className={style.chats} ref={chatsRef}>\n      { props.messages && props.messages.map((message: MessageData) => (\n        <div \n          key={message._id}\n          className={classnames(style.chat, {\n            [style.isUserMsg]: isUserMsg(message)\n          })}\n          onClick = { () => saveOriginalMessage(message) }\n        >\n          { message.replyTo &&\n            <div className={style.replyBlock}>\n              <p className={style.owner}>\n                { message.replyTo.owner.nick || message.replyTo.owner.login }\n              </p>\n                <FormattedMessage message={message.replyTo} />\n            </div>\n          }\n          { message.forwarded &&\n            <div className={style.forwardedBlock}>\n              <p className={style.owner}>\n                Forwarded from { message.forwarded.owner.nick || message.forwarded.owner.login }\n              </p>\n              <FormattedMessage message={message.forwarded} />\n            </div>\n          } \n          { props.activeChat.title && !isUserMsg(message) &&\n            <p className={style.owner}>\n              { message.owner.nick || message.owner.login }\n            </p>\n          }\n          <FormattedMessage message={message} />\n          <time className={style.timeBlock}>\n            {moment(+message.createdAt).format('HH:mm  DD.MM')}\n          </time>\n        </div>\n      ))}\n      { props.originalMessage && \n        <MessageMenu />\n      }\n    </div>\n  );\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Chat));","import React from 'react'\nimport 'emoji-mart/css/emoji-mart.css'\nimport { Picker } from 'emoji-mart'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { EmojiData } from \"emoji-mart\";\n\nimport style from './style.module.css'\ninterface Props {\n  addEmoji: ((emoji: EmojiData) => void) | undefined\n}\n\nconst ButtonWithEmoji: React.FC<Props> = (props) => {  \n\n  const [isOpenedEmoji, setIsOpenedEmoji] = React.useState(false);\n\n  const myRef = React.useRef<HTMLDivElement>(null);\n\n  const closeEmoji = React.useCallback(\n    (event: MouseEvent) => {\n      if (!(event.target instanceof Element)) {\n        return;\n      }\n      if (myRef.current && !myRef.current.contains(event.target)) {\n        setIsOpenedEmoji(false);\n      }\n    },\n    [setIsOpenedEmoji]\n  )\n\n  React.useEffect(() => {\n    if (isOpenedEmoji) {\n      document.addEventListener(\"click\", closeEmoji);\n    } else {\n      document.removeEventListener(\"click\", closeEmoji);\n    }\n  }, [isOpenedEmoji, closeEmoji])\n\n  const toggleEmoji = () => {\n    setIsOpenedEmoji(!isOpenedEmoji)\n  }\n\n  return (\n    <div className={style.buttonWithEmoji}>\n      <button onClick={ toggleEmoji } className={style.button}>\n        <FontAwesomeIcon icon=\"smile\" />\n      </button>\n      { isOpenedEmoji && \n        <div ref={myRef} className={style.emojiBlock}>\n          <Picker set='google' onSelect={props.addEmoji} />\n        </div>\n      }\n    </div>\n  )\n}\nexport default React.memo(ButtonWithEmoji);\n","import React from 'react'\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as messageActions from \"../../store/message/actions\";\nimport * as mediaActions from \"../../store/media/actions\";\n\nimport style from './style.module.css'\n\nconst mapStateToProps = (state: IRootState) => ({\n  activeChatId: state.chat.chatSuccessData.activeChat._id,\n  fileId: state.media.fileData._id\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      uploadFile: mediaActions.uploadFile.request,\n      sendMessage: messageActions.sendMessage.request\n    },\n    dispatch\n  );\n\ntype ButtonWithFileUploadProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst ButtonWithFileUpload: React.FC<ButtonWithFileUploadProps> = props => {\n\n  const [isOpenedFileUpload, setIsOpenedFileUpload] = React.useState(false);\n  const [fileMessage, setFileMessage] = React.useState('');\n\n  const myRef = React.useRef<HTMLDivElement>(null);\n  const myFormRef = React.useRef<HTMLFormElement>(null)\n  const fileAttachmentRef = React.useRef<HTMLInputElement>(null);\n\n  const closeFileUpload = React.useCallback(\n    (event: MouseEvent) => {\n      if (!(event.target instanceof Element)) {\n        return;\n      }\n      if (myRef.current && !myRef.current.contains(event.target)) {\n        setIsOpenedFileUpload(false);\n      }\n    },\n    [setIsOpenedFileUpload]\n  )\n\n  React.useEffect(() => {\n    if (isOpenedFileUpload) {\n      document.addEventListener(\"click\", closeFileUpload);\n    } else {\n      document.removeEventListener(\"click\", closeFileUpload);\n    }\n  }, [isOpenedFileUpload, closeFileUpload])\n\n  const toggleFileUpload = () => {\n    setIsOpenedFileUpload(!isOpenedFileUpload)\n  }\n\n  const uploadFile = (form: HTMLFormElement) => {\n    props.uploadFile(form)\n  }\n\n  const sendAttachment = (e: React.FormEvent<HTMLFormElement>) => {\n    if (props.activeChatId) {\n      props.sendMessage({\n        activeChatId: props.activeChatId,\n        text: fileMessage,\n        mediaId: props.fileId\n      })\n    }\n    setIsOpenedFileUpload(false)\n    setFileMessage('')\n  }\n\n  return (\n    <div className={style.buttonWithFileUpload}>\n      <button onClick={toggleFileUpload} className={style.paperclipButton} >\n        <FontAwesomeIcon icon=\"paperclip\" />\n      </button>\n      {isOpenedFileUpload &&\n        <div ref={myRef} className={style.dialogContainer}>\n          <header className={style.dialogHeader}>\n            <h4>Upload a file</h4>\n            <button\n              onClick={() => setIsOpenedFileUpload(false)}\n            >\n              <FontAwesomeIcon icon=\"times\" />\n            </button>\n          </header>\n          <form\n            className={style.dialogForm}\n            ref={myFormRef}\n            method=\"post\"\n            action='/upload'\n            encType=\"multipart/form-data\"\n            id=\"form\"\n            onSubmit={sendAttachment}\n          >\n            <input\n              type=\"file\"\n              name=\"media\"\n              id=\"media\"\n              ref={fileAttachmentRef}\n              onChange={() => { if (myFormRef.current) uploadFile(myFormRef.current) }}\n            />\n            <label className={style.dialogLabel} htmlFor=\"fileMessage\">\n              Add a message about the file\n              </label>\n            <input\n              id=\"fileMessage\"\n              className={style.dialogInput}\n              autoFocus\n              type=\"text\"\n              name=\"fileMessage\"\n              value={fileMessage}\n              onChange={(e) => setFileMessage(e.target.value)}\n              placeholder=\"Write your message\"\n            />\n            <button type=\"submit\" className={style.submitBtn}>\n              Upload\n              </button>\n          </form>\n        </div>\n      }\n    </div>\n  )\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(ButtonWithFileUpload));\n","import React from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { MessageData } from \"../../store/message/types\";\nimport FormattedMessage from \"../FormattedMessage\"\nimport style from\"./style.module.css\";\n\ninterface Props {\n    originalMessage: MessageData | null,\n    deleteOriginalMessage: ((event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void) | undefined\n}\n\nconst OriginalMessageBlock = (props: Props) => {\n    return (\n        <div className={style.originalMessageBlock}>\n            <div className={style.originalMessage}>\n                <p className={style.owner}>\n                    { props.originalMessage && (props.originalMessage.owner.nick || props.originalMessage.owner.login) }\n                </p>\n                <FormattedMessage message={props.originalMessage} />\n                <button \n                    onClick = {props.deleteOriginalMessage}\n                    className={style.deleteOriginalMessage}\n                >\n                    <FontAwesomeIcon icon=\"times\" />\n                </button>\n            </div>\n        </div>\n\t);\n}\nexport default React.memo(OriginalMessageBlock);","import React from \"react\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as messageActions from \"../../store/message/actions\";\n\nimport ButtonWithEmoji from \"../ButtonWithEmoji\"\nimport ButtonWithFileUpload from \"../ButtonWithFileUpload\"\nimport OriginalMessageBlock from \"../OriginalMessageBlock\"\nimport style from './style.module.css'\nimport { EmojiData } from \"emoji-mart\";\n\nconst mapStateToProps = (state: IRootState) => ({\n  activeChatId: state.chat.chatSuccessData.activeChat._id,\n  originalMessage: state.message.savedMessage.originalMessage,\n  isReply: state.message.savedMessage.isReply,\n  isForward: state.message.savedMessage.isForward\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      sendMessage: messageActions.sendMessage.request,\n      replyToMessage: messageActions.replyToMessage.request,\n      forwardMessage: messageActions.forwardMessage.request,\n      saveOriginalMessage: messageActions.saveOriginalMessage,\n    },\n    dispatch\n  );\n\ntype MessageInputProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst MessageInput: React.FC<MessageInputProps> = (props) => {\n  const [text, setText] = React.useState(\"\");\n\n  const deleteOriginalMessage = () => {\n    props.saveOriginalMessage({originalMessage: null, isReply: false, isForward: false})\n  }\n\n  const addEmoji = (emoji: any) => {\n    setText(text + emoji.native)\n  }\n\n  const sendMessageHandler = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    if (text.trim() === '') return;\n    if (props.activeChatId && props.originalMessage && props.isReply) {\n      props.replyToMessage({ activeChatId: props.activeChatId, text, originalMessageId: props.originalMessage._id })\n    } else if (props.activeChatId) {\n      props.sendMessage({ activeChatId: props.activeChatId, text, mediaId: null })\n    }\n    setText(\"\")\n  }\n\n  return (\n    <>\n      { props.isReply &&\n        <OriginalMessageBlock \n          originalMessage={props.originalMessage}\n          deleteOriginalMessage={deleteOriginalMessage}\n        />\n      }\n      <div className={style.messageBlock}>\n        <ButtonWithEmoji addEmoji={addEmoji} />\n        <form action=\"\" onSubmit={sendMessageHandler} className={style.messageForm}>\n          <input\n            className={style.messageInput}\n            placeholder=\"Write your message\"\n            type=\"text\"\n            autoFocus={true}\n            value={text}\n            onChange={e => setText(e.target.value)}\n          />\n          <div className={style.buttonBlock}>\n            <button type=\"submit\" className={style.button} >\n              <FontAwesomeIcon icon=\"paper-plane\" />\n            </button>\n            <ButtonWithFileUpload />\n          </div>\n        </form>\n      </div>\n    </>\n  );\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(MessageInput));","import React from \"react\";\nimport Header from \"../Header\";\n\nimport Chat from \"../Chat\";\nimport MessageInput from \"../MessageInput\";\nimport style from './style.module.css'\n\ninterface Props {\n  name: string,\n}\n\nconst ChatWindow = (props: Props) => {\n  return (\n    <div className={style.chatWindow}>\n      <Header activeChatName = {props.name} />\n      <Chat />\n      <MessageInput />\n    </div>\n  );\n};\n\nexport default React.memo(ChatWindow);","import React from 'react';\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\n\nimport { IRootAction, IRootState } from \"../../store/rootReducer\";\nimport * as userActions from \"../../store/user/actions\";\n\nimport style from './style.module.css'\nimport Empty from \"../Empty\";\nimport ChatWindow from \"../ChatWindow\";\nimport userAvatar from '../../img/user_avatar.png'\n\nconst mapStateToProps = (state: IRootState) => ({\n  nick: state.user.userData.nick,\n  login: state.user.userData.login,\n  avatar: state.user.userData.avatar ? `http://chat.fs.a-level.com.ua/${state.user.userData.avatar.url}` : userAvatar,\n\tactiveChatId: state.chat.chatSuccessData.activeChat._id,\n  activeChatName: state.chat.chatSuccessData.activeChatName\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\n  bindActionCreators(\n    {\n      getUser: userActions.getUser.request,\n    },\n    dispatch\n  );\n\ntype MainProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst Main: React.FC<MainProps> = props => {\n\n  const renderMainPageContent = () => {\n    if (!props.activeChatId) {\n      return (\n        <Empty \n          name={props.nick || props.login}\n          avatarSrc={props.avatar} \n        />\n      )\n    }  else {\n      return (\n        <ChatWindow name={props.activeChatName} />\n      )\n    }\n  }\n\n  return (\n    <main className={style.main}>\n      {renderMainPageContent()}\n    </main>\n  )\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Main));\n","import React from \"react\";\r\nimport { bindActionCreators, Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport io from 'socket.io-client';\r\n\r\nimport { IRootAction } from \"../../store/rootReducer\";\r\nimport * as userActions from \"../../store/user/actions\";\r\nimport * as messageActions from \"../../store/message/actions\";\r\nimport { MessageData } from '../../store/message/types'\r\nimport { DecodedToken } from '../../store/auth/types'\r\n\r\nimport style from './style.module.css'\r\nimport Sidebar from '../Sidebar';\r\nimport Main from \"../Main\";\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<IRootAction>) =>\r\n  bindActionCreators(\r\n    {\r\n      getUser: userActions.getUser.request,\r\n      onMessage: messageActions.onMessage,\r\n    },\r\n    dispatch\r\n  );\r\n\r\ntype ProfileProps = ReturnType<typeof mapDispatchToProps>;\r\n\r\nconst Profile: React.FC<ProfileProps> = props => {\r\n\r\n  React.useEffect(() => {\r\n    const authToken = localStorage.getItem('authToken')\r\n    if (!authToken) {\r\n      return\r\n    }\r\n  \r\n    const socket = io('http://chat.fs.a-level.com.ua/');\r\n    socket.emit('jwt', localStorage.authToken)\r\n    socket.on('jwt_ok', (data: DecodedToken) => console.log(data))\r\n    socket.on('jwt_fail', (error: string) => console.log(error))\r\n    socket.on('msg', (message: MessageData) => {\r\n      console.log('message', message)\r\n      props.onMessage(message)\r\n    })\r\n  },[])\r\n\r\n  return (\r\n    <div className={style.profile}>\r\n      <Sidebar />\r\n      <Main />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect( null, mapDispatchToProps)(React.memo(Profile));\r\n","module.exports = __webpack_public_path__ + \"static/media/user_avatar.c3631c65.png\";","import React from \"react\";\n\nimport style from \"./style.module.css\"\n\ninterface Props {\n  chatId?: string,\n  newMessageId?: string | null,\n  newMessageChatId?: string | null,\n  activeChatId?: string | null,\n}\n\nconst NewMessageCounter = (props: Props) => {\n  const [counter, setCounter] = React.useState(0)\n\n  React.useEffect(() => {\n    if (props.newMessageId && (props.newMessageChatId === props.chatId)) {\n      setCounter(counter + 1)\n    }\n  }, [props.newMessageId])\n\n  React.useEffect(() => {\n    if (props.chatId === props.activeChatId) {\n      setCounter(0)\n    }\n  }, [props.activeChatId])\n\n\n  return (  \n    <>\n      { counter > 0 && (props.chatId !== props.activeChatId) && \n        <div className={style.counter}>\n          {counter}\n        </div>\n      }\n    </>\n  )\n}\nexport default React.memo(NewMessageCounter);","import React from \"react\";\n\nimport NewMessageCounter from \"../NewMessageCounter\"\nimport style from './style.module.css'\n\ninterface Props {\n  name: string | undefined,\n  chatId?: string,\n  avatarSrc: string,\n  newMessageId?: string | null,\n  newMessageChatId?: string | null,\n  activeChatId?: string | null,\n  onClick?: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void\n}\n\nconst User = (props: Props) => {\n\n  React.useEffect(() => {\n\t\tconst authToken = localStorage.getItem('authToken')\n\t\tif (!authToken) {\n\t\t\treturn\n\t\t}\n  }, [])\n  \n  return (  \n    <div className={style.user} onClick={props.onClick}>\n      <img src={props.avatarSrc} alt=\"avatar\" className={style.userImg} />\n      <div className={style.userDetails}>\n        <p className={style.useDetailsName}>{props.name}</p>\n      </div >\n      <NewMessageCounter\n        chatId={props.chatId}\n        newMessageId={props.newMessageId}\n        newMessageChatId={props.newMessageChatId}\n        activeChatId={props.activeChatId}\n      />\n    </div>\n  );\n};\nexport default React.memo(User);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"style_counter__1moC1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"style_user__2v5VR\",\"userImg\":\"style_userImg__1CkCR\",\"userDetails\":\"style_userDetails__wkzC-\",\"userDetailsName\":\"style_userDetailsName__2_mEK\"};","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}